<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <title>An Introduction to Livefrog</title>
    <meta name="description" content="I have specific cases wherein we needed to convert LiveJournal articles to another format. There are tools that do this, however, I found none, so far, that translates to _Frog_ files. This is my feeble attempt to achive that....">
    <meta name="author"      content="Rommel Martinez">
    <meta name="keywords"    content="racket, programming">
    <meta name="viewport"    content="width=device-width, initial-scale=1.0">

    <!-- <link rel="icon"      href="/favicon.ico"> -->

    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <link rel="canonical" href="http://ebzzry.github.io/blog/2013/05/29/an-introduction-to-livefrog/">
    <!-- CSS -->
    <!-- <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css"> -->
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="/css/pygments.css">
    <link rel="stylesheet" type="text/css" href="/css/scribble.css">
    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <!-- Feeds -->
    <link ref="alternate" type="application/atom+xml"
          href="/feeds/all.atom.xml" title="Atom Feed">
    <link ref="alternate" type="application/rss+xml"
          href="/feeds/all.rss.xml" title="RSS Feed">
    <!-- JS -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-xxxxx']);
      _gaq.push(['_setDomainName', 'example.com']);
      _gaq.push(['_trackPageview']);
      setTimeout(function(){_gaq.push(['_trackEvent', '30_seconds', 'read'])}, 30000); // http://drawingablank.me/blog/fix-your-bounce-rate.html
      (function() {
          var ga = document.createElement('script');
          ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>
  <body id="wrapper">
    <!-- A standard Twitter Bootstrap nav bar -->
    <header class="navbar navbar-default navbar-inverse"
            role="banner">
      <div class="container">
        <div class="navbar-header">
          <button type="button"
                  class="navbar-toggle"
                  data-toggle="collapse"
                  data-target=".our-nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <!-- <a href="/index.html" class="navbar-brand">Home</a> -->
          <!-- <a href="/index.html">Home</a> -->
        </div>
        <div class="collapse navbar-collapse our-nav-collapse" role="navigation">
          <ul class="nav navbar-nav">

            <li>
              <a href="/index.html">Home</a>
            </li> 
            <li>
              <a href="/about.html">About</a>
            </li> 
            <!-- <li><a href="/feeds/all.atom.xml">Atom</a></li> -->
            <li><a href="/feeds/all.rss.xml">RSS</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Tags <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/index.html">All Posts</a></li>

<li><a href="/tags/backups.html">backups</a></li>

<li><a href="/tags/compsci.html">compsci</a></li>

<li><a href="/tags/emacs.html">emacs</a></li>

<li><a href="/tags/essays.html">essays</a></li>

<li><a href="/tags/mail.html">mail</a></li>

<li><a href="/tags/programming.html">programming</a></li>

<li><a href="/tags/racket.html">racket</a></li>

<li><a href="/tags/scheme.html">scheme</a></li>

<li><a href="/tags/security.html">security</a></li>

<li><a href="/tags/sysadmin.html">sysadmin</a></li>

<li><a href="/tags/virtualization.html">virtualization</a></li>

<li><a href="/tags/web.html">web</a></li>
              </ul>
            </li>
          </ul>
        </div>
    </header>
    <div class="container">
      <div class="row">

        <!-- Main column -->
        <div id="content" class="col-md-12">





          <article>
  <header>
    <h1>An Introduction to Livefrog</h1>

<p class="date-and-tags">
 <time datetime="2013-05-29" pubdate="true">2013-05-29</time> :: <span class="tags"><a href="/tags/racket.html">racket</a>, <a href="/tags/programming.html">programming</a></span></p>
  </header>

<p>I have specific cases wherein we needed to convert LiveJournal articles to another format. There are tools that do this, however, I found none, so far, that translates to <em>Frog</em> files. This is my feeble attempt to achive that.</p>
<!-- more-->

<h1 id="introduction">Introduction</h1>

<p>livefrog is a utility written in <a href="http://racket-lang.org">Racket</a>, used to migrate LiveJournal posts to <a href="https://github.com/greghendershott/frog/">Frog</a>, a blogging platform written in Racket, too. It uses the files dumped by either <a href="http://hewgill.com/ljdump/">ljdump</a>, or <a href="http://github.com/ceejbot/ljmigrate">ljmigrate</a>.</p>

<h1 id="installation">Installation</h1>

<p>livefrog is available via Racket&rsquo;s <a href="http://pkg.racket-lang.org">Planet2</a>:</p>

<div class="brush: console">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="gp">$</span> raco pkg install livefrog
</pre></div>
</td></tr></tbody></table>
</div>

<p>If that doesn&rsquo;t work, you can alternately install by fetching livefrog, and the dependencies, from github</p>

<div class="brush: console">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="gp">$</span> git clone https://github.com/jbclements/sxml.git
<span class="gp">$</span> git clone https://github.com/greghendershott/frog.git
<span class="gp">$</span> git clone https://github.com/ebzzry/livefrog.git
<span class="gp">$</span> raco pkg install frog/ sxml/ livefrog/
</pre></div>
</td></tr></tbody></table>
</div>

<p>The trailing slashes are important, to tell <code>raco</code> that you are installing from local directories. Without it, it will try to fetch the sources from the internet.</p>

<h1 id="usage">Usage</h1>

<p>This sections contains instructions for creating files suitable for use with Frog.</p>

<h2 id="basics">Basics</h2>

<p>To create a Markdown file from the file entry.xml</p>

<div class="brush: console">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="gp">$</span> raco livefrog -m entry.xml
</pre></div>
</td></tr></tbody></table>
</div>

<p>That, however, becomes cumbersome if you&rsquo;re going to manage more than a hundred entries. To automatically &ldquo;pick up&rdquo; the files created by ljdump or ljmigrate, and convert them to Markdown.</p>

<div class="brush: console">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="gp">$</span> raco livefrog -am
</pre></div>
</td></tr></tbody></table>
</div>

<p>Bear in mind, though, that ljdump and ljmigrate differ on how the trees for the data are created. ljdump has the following tree format, where USERNAME is your LiveJournal account name:</p>

<pre><code>ljdump/
  build
  ChangeLog
  convertdump.py
  USERNAME/
    L-1
    L-2
    C-2
    L-3
    ...
  ljdump.config
  ljdump.config.sample
  ljdump-gui.py
  ljdump.py*
  README.txt
  TODO</code></pre>

<p>ljmigrate, on the other hand, uses a different format:</p>

<pre><code>ljmigrate/
  LICENSE.text
  ljmigrate.cfg
  ljmigrate.cfg.sample
  ljmigrate.py*
  README.md
  README_windows.txt
  TODO
  www.livejournal.com/
    USERNAME/
      entry00001/
        entry.xml
      entry00002/
        entry.xml
        comment.xml
      html/
      metadata/
      userpics/</code></pre>

<p>After creating the Markdown Frog source files, you may now copy them to your Frog source directory, designated at <code>_src/posts/</code></p>

<h2 id="comments">Comments</h2>

<p>Frog, by default, uses <a href="http://disqus.com">Disqus</a> to handle the comments. To import comments to this platform, we need to generate an XML file that must adhere to Disqus&rsquo; comment import rules.</p>

<p>To create a file, named <code>comments.xml</code> that will be used for importing comments, to be used with <a href="http://import.disqus.com/">import.disqus.com</a>, using <code>foo.bar.com</code> as the root site:</p>

<div class="brush: console">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="gp">$</span> raco livefrog -s foo.bar.com -c comments.xml
</pre></div>
</td></tr></tbody></table>
</div>

<h1 id="updating">Updating</h1>

<p>If you installed livefrog using Planet2, you can update it by running:</p>

<div class="brush: console">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="gp">$</span> raco pkg update livefrog
</pre></div>
</td></tr></tbody></table>
</div>

<p>However, if you used the latter method, you may update it by pulling the updates, uninstalling livefrog, then installing it again:</p>

<div class="brush: console">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4
5</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="gp">$</span> <span class="nb">cd </span>livefrog
<span class="gp">$</span> git pull origin master
<span class="gp">$</span> <span class="nb">cd</span> ..
<span class="gp">$</span> raco pkg remove livefrog
<span class="gp">$</span> raco pkg install livefrog/
</pre></div>
</td></tr></tbody></table>
</div>

<h1 id="miscellany">Miscellany</h1>

<p>To reduce typing, you may optionally create an alias to <code>raco
livefrog</code> in your shell.</p>

<p>Sh-like shells:</p>

<div class="brush: console">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="gp">$</span> <span class="nb">echo</span> <span class="s1">&#39;alias livefrog="raco livefrog"&#39;</span> &gt;&gt; ~/.bashrc
</pre></div>
</td></tr></tbody></table>
</div>

<p>Csh-like shells:</p>

<div class="brush: console">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span class="gp">$</span> <span class="nb">echo</span> <span class="s1">&#39;alias livefrog raco livefrog&#39;</span> &gt;&gt; ~/.cshrc
</pre></div>
</td></tr></tbody></table>
</div>

<p>Replace <code>.bashrc</code>, and <code>.cshrc</code>, with the appropriate init file for your shell.</p>

<p>The sources, along with additional information, are located at <a href="http://github.com/ebzzry/livefrog">github.com/ebzzry/livefrog</a>.</p>
  <footer>
    <script type="text/javascript">
      !function(d,s,id){
          var js,fjs=d.getElementsByTagName(s)[0];
          if(!d.getElementById(id)){
              js=d.createElement(s);
              js.id=id;
              js.src="//platform.twitter.com/widgets.js";
              fjs.parentNode.insertBefore(js,fjs);
          }
      }(document,"script","twitter-wjs");
    </script>
    <a href="https://twitter.com/share"
       class="twitter-share-button"
       data-url="http://ebzzry.github.io/blog/2013/05/29/an-introduction-to-livefrog/"
       data-dnt="true">
      "Tweet"</a>
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
    <g:plusone size="medium" href="http://ebzzry.github.io/blog/2013/05/29/an-introduction-to-livefrog/"></g:plusone>
    <script type="text/javascript">
      var disqus_shortname = 'ebzzrygithubio';
      (function() {
          var dsq = document.createElement('script');
          dsq.type = 'text/javascript';
          dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <div id="disqus_thread"></div>
    <ul class="pager">
    <li class="previous">
      <a href="/blog/2013/07/11/in-retrospect/">&larr; <em>In Retrospect</em></a>
    </li>
    <li class="next">
      <a href="/blog/2013/05/21/an-introduction-to-usync/"><em>An Introduction to Usync</em> &rarr;</a>
    </li>
    </ul>
  </footer>
</article>
        </div>
      </div>
      <footer>
        <hr />
        <!-- <p><a href="https://twitter.com/ebzzry"
                   class="twitter-follow-button"
                   data-show-count="false"
                   data-lang="en">
                  "Follow ebzzry"
                </a>
                <script type="text/javascript">
                  !function(d,s,id){
                      var js,fjs=d.getElementsByTagName(s)[0];
                      if(!d.getElementById(id)){
                          js=d.createElement(s);
                          js.id=id;
                          js.src="//platform.twitter.com/widgets.js";
                          fjs.parentNode.insertBefore(js,fjs);
                      }
                  }(document,"script","twitter-wjs");
                </script></p> -->
        <p>Site created with
          <a href="http://www.racket-lang.org">Racket</a>,
          <a href="http://github.com/greghendershott/frog">Frog</a>,
          <a href="http://www.gnu.org/software/emacs/">Emacs</a>, and
          <a href="http://twitter.github.io/bootstrap">Bootstrap</a></p>
        <p><em>Copyright &copy; by <a href="http://rmm.meta.ph">Rommel M. Martinez</a></em></p>
      </footer>
    </div>
    <!-- </body> JS -->
    <script type="text/javascript" src="//code.jquery.com/jquery.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
  </body>
</html>