<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <title>Livefrog: A LiveJournal Utility</title>
    <meta name="description" content="I am pleased to announce the release of livefrog, a utility I wrote to migrate LiveJournal articles to Frog.  The sources, along with additional information, are located at github.com/ebzzry/livefrog....">
    <meta name="author"      content="Rommel Martinez">
    <meta name="keywords"    content="racket, programming">
    <meta name="viewport"    content="width=device-width, initial-scale=1.0">
    <link rel="icon"      href="/favicon.ico">
    <link rel="canonical" href="http://www.example.com/blog/2013/05/29/livefrog-a-livejournal-utility/">
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/pygments.css">
    <link rel="stylesheet" type="text/css" href="/css/scribble.css">
    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <!-- Feeds -->
    <link ref="alternate" type="application/atom+xml"
          href="/feeds/all.atom.xml" title="Atom Feed">
    <link ref="alternate" type="application/rss+xml"
          href="/feeds/all.rss.xml" title="RSS Feed">
    <!-- JS -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-xxxxx']);
      _gaq.push(['_setDomainName', 'example.com']);
      _gaq.push(['_trackPageview']);
      setTimeout(function(){_gaq.push(['_trackEvent', '30_seconds', 'read'])}, 30000); // http://drawingablank.me/blog/fix-your-bounce-rate.html
      (function() {
          var ga = document.createElement('script');
          ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>
  <body>
    <!-- A standard Twitter Bootstrap nav bar -->
    <header class="navbar navbar-default navbar-inverse"
            role="banner">
      <div class="container">
        <div class="navbar-header">
          <button type="button"
                  class="navbar-toggle"
                  data-toggle="collapse"
                  data-target=".our-nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <!-- <a href="/index.html" class="navbar-brand">Home</a> -->
          <a href="/index.html" class="navbar-brand">#</a>
        </div>
        <div class="collapse navbar-collapse our-nav-collapse"
             role="navigation">
          <ul class="nav navbar-nav">

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Tags <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/index.html">All Posts</a></li>

<li><a href="/tags/backups.html">backups</a></li>

<li><a href="/tags/emacs.html">emacs</a></li>

<li><a href="/tags/mail.html">mail</a></li>

<li><a href="/tags/programming.html">programming</a></li>

<li><a href="/tags/racket.html">racket</a></li>

<li><a href="/tags/rants.html">rants</a></li>

<li><a href="/tags/scheme.html">scheme</a></li>

<li><a href="/tags/web.html">web</a></li>
              </ul>
            </li>
            <li>
              <a href="/About.html">About</a>
            </li> 
            <li><a href="/feeds/all.atom.xml">Atom</a></li>
            <li><a href="/feeds/all.rss.xml">RSS</a></li>
          </ul>
        </div>
    </header>
    <div class="container">
      <div class="row">

        <!-- Main column -->
        <div id="content" class="col-md-12">





          <article>
  <header>
    <h1>Livefrog: A LiveJournal Utility</h1>

<p class="date-and-tags">
 <time datetime="2013-05-29" pubdate="true">2013-05-29</time> :: <span class="tags"><a href="/tags/racket.html">racket</a>, <a href="/tags/programming.html">programming</a></span></p>
  </header>

<p>I am pleased to announce the release of <span style="font-weight: bold">livefrog</span>, a utility I wrote to
migrate LiveJournal articles to
<a href="http://github.com/greghendershott/frog">Frog</a>.</p>

<p>The sources, along with additional information, are located at
<a href="http://github.com/ebzzry/livefrog">github.com/ebzzry/livefrog</a>.</p>

<p>&lt;!&ndash; more &ndash;&gt;</p>

<h1>1
 <tt>&nbsp;</tt><a name="(part._.Introduction)"></a>Introduction</h1>

<p><span style="font-weight: bold">livefrog</span> is a utility written in <a href="http://racket-lang.org">Racket</a>, used to migrate LiveJournal posts to
<a href="https://github.com/greghendershott/frog/">Frog</a>, a blogging
platform written in Racket, too. It uses the files dumped by either
<a href="http://hewgill.com/ljdump/">ljdump</a>, or
<a href="http://github.com/ceejbot/ljmigrate">ljmigrate</a>.</p>

<h1>2
 <tt>&nbsp;</tt><a name="(part._.Installation)"></a>Installation</h1>

<p><span style="font-weight: bold">livefrog</span> is available via Racket&rsquo;s
<a href="http://pkg.racket-lang.org">Planet2</a>:</p>

<p></p>

<table cellspacing="0">
 <tbody>
  <tr>
   <td>
    <p><span class="stt"><span class="stt">$ raco pkg install livefrog</span></span></p></td></tr></tbody></table>

<p>If that doesn&rsquo;t work, you can alternately install by fetching livefrog, and the
dependencies, from github</p>

<p></p>

<table cellspacing="0">
 <tbody>
  <tr>
   <td>
    <p><span class="stt"><span class="stt">$ git clone https://github.com/jbclements/sxml.git</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="stt">$ git clone https://github.com/greghendershott/frog.git</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="stt">$ git clone https://github.com/ebzzry/livefrog.git</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="stt">$ raco pkg install frog/ sxml/ livefrog/</span></span></p></td></tr></tbody></table>

<p>The trailing slashes are important, to tell <span class="stt">raco</span> that you are
installing from local directories. Without it, it will try to fetch
the sources from the internet.</p>

<h1>3
 <tt>&nbsp;</tt><a name="(part._.Usage)"></a>Usage</h1>

<p>This sections contains instructions for creating files suitable for
use with Frog.</p>

<h2>3.1
 <tt>&nbsp;</tt><a name="(part._.Basics)"></a>Basics</h2>

<p>To create a Markdown file from the file entry.xml</p>

<p></p>

<table cellspacing="0">
 <tbody>
  <tr>
   <td>
    <p><span class="stt"><span class="stt">$ raco livefrog -m entry.xml</span></span></p></td></tr></tbody></table>

<p>That, however, becomes cumbersome if you&rsquo;re going to manage more than a hundred
entries. To automatically "pick up" the files created by ljdump or ljmigrate,
and convert them to Markdown.</p>

<p></p>

<table cellspacing="0">
 <tbody>
  <tr>
   <td>
    <p><span class="stt"><span class="stt">$ raco livefrog -am</span></span></p></td></tr></tbody></table>

<p>Bear in mind, though, that ljdump and ljmigrate differ on how the trees for the
data are created. ljdump has the following tree format, where USERNAME is your
LiveJournal account name:</p>

<p></p>

<table cellspacing="0">
 <tbody>
  <tr>
   <td>
    <p><span class="stt"><span class="stt">ljdump/</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">build</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">ChangeLog</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">convertdump.py</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">USERNAME/</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">L-1</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">L-2</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">C-2</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">L-3</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">...</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">ljdump.config</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">ljdump.config.sample</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">ljdump-gui.py</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">ljdump.py*</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">README.txt</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">TODO</span></span></p></td></tr></tbody></table>

<p>ljmigrate, on the other hand, uses a different format:</p>

<p></p>

<table cellspacing="0">
 <tbody>
  <tr>
   <td>
    <p><span class="stt"><span class="stt">ljmigrate/</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">LICENSE.text</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">ljmigrate.cfg</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">ljmigrate.cfg.sample</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">ljmigrate.py*</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">README.md</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">README_windows.txt</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">TODO</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">www.livejournal.com/</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">USERNAME/</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">entry00001/</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">entry.xml</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">entry00002/</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">entry.xml</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">comment.xml</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">html/</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">metadata/</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">userpics/</span></span></p></td></tr></tbody></table>

<p>After creating the Markdown Frog source files, you may now copy them
to your Frog source directory, designated at <span class="stt">_src/posts/</span></p>

<h2>3.2
 <tt>&nbsp;</tt><a name="(part._.Comments)"></a>Comments</h2>

<p>Frog, by default, uses <a href="http://disqus.com">Disqus</a> to handle the
comments. To import comments to this platform, we need to generate an XML file
that must adhere to Disqus&rsquo; comment import rules.</p>

<p>To create a file, named <span class="stt">comments.xml</span> that will be used for importing
comments, to be used with <a href="http://import.disqus.com/">import.disqus.com</a>, using <span class="stt">foo.bar.com</span> as the root site:</p>

<p></p>

<table cellspacing="0">
 <tbody>
  <tr>
   <td>
    <p><span class="stt"><span class="stt">$ raco livefrog -s foo.bar.com -c comments.xml</span></span></p></td></tr></tbody></table>

<h1>4
 <tt>&nbsp;</tt><a name="(part._.Updating)"></a>Updating</h1>

<p>If you installed livefrog using Planet2, you can update it by running:</p>

<p></p>

<table cellspacing="0">
 <tbody>
  <tr>
   <td>
    <p><span class="stt"><span class="stt">$ raco pkg update livefrog</span></span></p></td></tr></tbody></table>

<p>However, if you used the latter method, you may update it by pulling
the updates, uninstalling livefrog, then installing it
again:</p>

<p></p>

<table cellspacing="0">
 <tbody>
  <tr>
   <td>
    <p><span class="stt"><span class="stt">$ cd livefrog</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="stt">$ git pull origin master</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="stt">$ cd ..</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="stt">$ raco pkg remove livefrog</span></span></p></td></tr>
  <tr>
   <td>
    <p><span class="stt"><span class="stt">$ raco pkg install livefrog/</span></span></p></td></tr></tbody></table>

<h1>5
 <tt>&nbsp;</tt><a name="(part._.Miscellany)"></a>Miscellany</h1>

<p>To reduce typing, you may optionally create an alias to <span class="stt">raco
livefrog</span> in your shell.</p>

<p>Sh-like shells:</p>

<p></p>

<table cellspacing="0">
 <tbody>
  <tr>
   <td>
    <p><span class="stt"><span class="stt">$ echo 'alias livefrog="raco livefrog"' &gt;&gt; ~/.bashrc</span></span></p></td></tr></tbody></table>

<p>Csh-like shells:</p>

<p></p>

<table cellspacing="0">
 <tbody>
  <tr>
   <td>
    <p><span class="stt"><span class="stt">$ echo 'alias livefrog raco livefrog' &gt;&gt; ~/.cshrc</span></span></p></td></tr></tbody></table>

<p>Replace <span class="stt">.bashrc</span>, and <span class="stt">.cshrc</span>, with the appropriate init file for
your shell.</p>
  <footer>
    <script type="text/javascript">
      !function(d,s,id){
          var js,fjs=d.getElementsByTagName(s)[0];
          if(!d.getElementById(id)){
              js=d.createElement(s);
              js.id=id;
              js.src="//platform.twitter.com/widgets.js";
              fjs.parentNode.insertBefore(js,fjs);
          }
      }(document,"script","twitter-wjs");
    </script>
    <a href="https://twitter.com/share"
       class="twitter-share-button"
       data-url="http://www.example.com/blog/2013/05/29/livefrog-a-livejournal-utility/"
       data-dnt="true">
      "Tweet"</a>
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
    <g:plusone size="medium" href="http://www.example.com/blog/2013/05/29/livefrog-a-livejournal-utility/"></g:plusone>
    <script type="text/javascript">
      var disqus_shortname = 'ebzzry';
      (function() {
          var dsq = document.createElement('script');
          dsq.type = 'text/javascript';
          dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <div id="disqus_thread"></div>
    <ul class="pager">
    <li class="previous">
      <a href="/blog/2013/09/10/emacs-and-hax/">&larr; <em>Emacs and Hax</em></a>
    </li>
    <li class="next">
      <a href="/blog/2013/05/21/usync-a-data-synchronizer/"><em>Usync: A Data Synchronizer</em> &rarr;</a>
    </li>
    </ul>
  </footer>
</article>
        </div>
      </div>
      <footer>
        <hr />
        <p><a href="https://twitter.com/ebzzry"
              class="twitter-follow-button"
              data-show-count="false"
              data-lang="en">
             "Follow Rommel"
           </a>
           <script type="text/javascript">
             !function(d,s,id){
                 var js,fjs=d.getElementsByTagName(s)[0];
                 if(!d.getElementById(id)){
                     js=d.createElement(s);
                     js.id=id;
                     js.src="//platform.twitter.com/widgets.js";
                     fjs.parentNode.insertBefore(js,fjs);
                 }
             }(document,"script","twitter-wjs");
           </script></p>
        <p>Site created with
          <a href="http://www.racket-lang.org">Racket</a>,
          <a href="http://github.com/greghendershott/frog">Frog</a>,
          <a href="http://www.gnu.org/software/emacs/">Emacs</a>, and
          <a href="http://twitter.github.io/bootstrap">Bootstrap</a></p>
        <p><em>Copyright &copy; by <a href="http://rmm.meta.ph">Rommel M. Martinez</a></em></p>
      </footer>
    </div>
    <!-- </body> JS -->
    <script type="text/javascript" src="//code.jquery.com/jquery.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
  </body>
</html>