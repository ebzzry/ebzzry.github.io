<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <title>Emacs: Mail</title>
    <meta name="description" content="In this day and age, checking our mail means going to the website of our mail
provider, or using a mobile app. However, there are some cases when we want to
have more control over our messages, especially when the feature we want is not
present with the mainstream options. Emacs provides a plethora (gnus, wanderlust, vm, etc.) of ways of sending and
receiving mail. In this post, we're going to talk
getmail,
mu, and
mu4e, and how to
set them up quickly. In this tutorial We'll assume that we're going to get our
messages from Gmail via its IMAP interface. ...">
    <meta name="author"      content="Rommel Martinez">
    <meta name="keywords"    content="emacs, mail">
    <meta name="viewport"    content="width=device-width, initial-scale=1.0">
    <link rel="icon"      href="/favicon.ico">
    <link rel="canonical" href="http://www.example.com/blog/2014/02/17/emacs-mail/">
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/pygments.css">
    <link rel="stylesheet" type="text/css" href="/css/scribble.css">
    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <!-- Feeds -->
    <link ref="alternate" type="application/atom+xml"
          href="/feeds/all.atom.xml" title="Atom Feed">
    <link ref="alternate" type="application/rss+xml"
          href="/feeds/all.rss.xml" title="RSS Feed">
    <!-- JS -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-xxxxx']);
      _gaq.push(['_setDomainName', 'example.com']);
      _gaq.push(['_trackPageview']);
      setTimeout(function(){_gaq.push(['_trackEvent', '30_seconds', 'read'])}, 30000); // http://drawingablank.me/blog/fix-your-bounce-rate.html
      (function() {
          var ga = document.createElement('script');
          ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>
  <body>
    <!-- A standard Twitter Bootstrap nav bar -->
    <header class="navbar navbar-default navbar-inverse"
            role="banner">
      <div class="container">
        <div class="navbar-header">
          <button type="button"
                  class="navbar-toggle"
                  data-toggle="collapse"
                  data-target=".our-nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <!-- <a href="/index.html" class="navbar-brand">Home</a> -->
          <a href="/index.html" class="navbar-brand">#</a>
        </div>
        <div class="collapse navbar-collapse our-nav-collapse"
             role="navigation">
          <ul class="nav navbar-nav">

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Tags <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/index.html">All Posts</a></li>

<li><a href="/tags/emacs.html">emacs</a></li>

<li><a href="/tags/mail.html">mail</a></li>

<li><a href="/tags/programming.html">programming</a></li>

<li><a href="/tags/racket.html">racket</a></li>

<li><a href="/tags/rants.html">rants</a></li>

<li><a href="/tags/scheme.html">scheme</a></li>
              </ul>
            </li>
            <li>
              <a href="/About.html">About</a>
            </li> 
            <li><a href="/feeds/all.atom.xml">Atom</a></li>
            <li><a href="/feeds/all.rss.xml">RSS</a></li>
          </ul>
        </div>
    </header>
    <div class="container">
      <div class="row">

        <!-- Main column -->
        <div id="content" class="col-md-12">






<article>

 <header>

  <h1>Emacs: Mail</h1>

  <p class="date-and-tags">
   <time datetime="2014-02-17" pubdate="true">2014-02-17</time> :: <span class="tags"><a href="/tags/emacs.html">emacs</a>, <a href="/tags/mail.html">mail</a></span></p>
  </header>


 <p>In this day and age, checking our mail means going to the website of our mail
provider, or using a mobile app. However, there are some cases when we want to
have more control over our messages, especially when the feature we want is not
present with the mainstream options.</p>


 <p>Emacs provides a plethora (gnus, wanderlust, vm, etc.) of ways of sending and
receiving mail. In this post, we&rsquo;re going to talk
<a href="http://pyropus.ca/software/getmail/">getmail</a>,
<a href="http://www.djcbsoftware.nl/code/mu/">mu</a>, and
<a href="http://www.djcbsoftware.nl/code/mu/mu4e.html">mu4e</a>, and how to
set them up quickly. In this tutorial We&rsquo;ll assume that we&rsquo;re going to get our
messages from <a href="http://gmail.com">Gmail</a> via its IMAP interface.</p>


 <h1>1

  <tt>&nbsp;</tt><a name="(part._.Fetching_.Messages)"></a>Fetching Messages</h1>


 <p>We first need to have a way to download our mails, off our mail server. A
easy-to-use application that will do that for us is
<a href="http://pyropus.ca/software/getmail/">getmail</a>.</p>


 <h2>1.1

  <tt>&nbsp;</tt><a name="(part._.Installation)"></a>Installation</h2>


 <p>Most of the time, getmail can be readily installed via your system&rsquo;s package
manager. If you are using a
<a href="https://www.debian.org/misc/children-distros">Debian-based
system</a>, you can install it by running:</p>


 <div class="SCodeFlow">

  <table cellspacing="0" class="RktBlk">

   <tbody>

    <tr>

     <td><span class="RktSym">$</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">sudo</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">apt-get</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">install</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">getmail4</span><span class="RktMeta"></span></td></tr></tbody></table></div>


 <p>If you are using <a href="https://nixos.org/nixos/">NixOS</a>, you can
install by running:</p>


 <div class="SCodeFlow">

  <table cellspacing="0" class="RktBlk">

   <tbody>

    <tr>

     <td><span class="RktSym">$</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">nix-env</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">-i</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">getmail</span><span class="RktMeta"></span></td></tr></tbody></table></div>


 <p>However, if your system doesn&rsquo;t provide an easy way for you to install getmail,
you can always head to its <a href="http://pyropus.ca/software/getmail/">homepage</a>, then download the tarball.</p>


 <h2>1.2

  <tt>&nbsp;</tt><a name="(part._.Configuration)"></a>Configuration</h2>


 <p>Next, we need to conjure the incantation so that getmail knows how to get your
stuff. Create the file <span class="RktSym">~/.getmail/getmailrc</span><span class="RktMeta"></span>. In addition to that, we
need to create and specify where the messages will go:</p>


 <div class="SCodeFlow">

  <table cellspacing="0" class="RktBlk">

   <tbody>

    <tr>

     <td><span class="RktSym">$</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">mkdir</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">~/Maildir</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktSym">$</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">mkdir</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">~/.getmail</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktSym">$</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">emacs</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">~/.getmail/getmailrc</span><span class="RktMeta"></span></td></tr></tbody></table></div>


 <p>Then put in the following:</p>


 <div class="SCodeFlow">

  <table cellspacing="0" class="RktBlk">

   <tbody>

    <tr>

     <td><span class="RktPn">[</span><span class="RktSym">retriever</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktSym">type</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">SimpleIMAPSSLRetriever</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktSym">server</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">imap.gmail.com</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktSym">mailboxes</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktVal">"[Gmail]/All</span><span class="hspace">&nbsp;</span><span class="RktVal">Mail"</span><span class="RktPn">)</span><span class="RktSym">,</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktSym">username</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">USERNAME@gmail.com</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktSym">password</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">PASSWORD</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta">&#160;</span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktSym">destination</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktSym">type</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Maildir</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktSym">path</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">~/Maildir</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta">&#160;</span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktSym">options</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktSym">verbose</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">2</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktSym">message_log</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">~/.getmail/gmail.log</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktSym">read_all</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">false</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktSym">delivered_to</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">false</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktSym">received</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">false</span><span class="RktMeta"></span></td></tr></tbody></table></div>


 <p>Replace USERNAME with your Gmail username, then replace PASSWORD with your
Gmail password. However, if you are using
<a href="http://www.google.com/landing/2step/">2-step authentication</a>, use
an <a href="https://accounts.google.com/IssuedAuthSubTokens">application-specific</a> password for the password field. Take note, that
<span class="RktSym">~/Maildir</span><span class="RktMeta"></span> is the default directory that Mail Transfer Agents (MTA) which
use the <a href="https://en.wikipedia.org/wiki/Maildir">maildir</a> format
use, to store data.</p>


 <h2>1.3

  <tt>&nbsp;</tt><a name="(part._.Execution)"></a>Execution</h2>


 <p>To verify that we can indeed fetch our messages, run getmail:</p>


 <div class="SCodeFlow">

  <table cellspacing="0" class="RktBlk">

   <tbody>

    <tr>

     <td><span class="RktSym">$</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">getmail</span><span class="RktMeta"></span></td></tr></tbody></table></div>


 <p>If it doesn&rsquo;t choke, and displays something like the following, then you have
configured getmail correctly.</p>


 <div class="SCodeFlow">

  <table cellspacing="0" class="RktBlk">

   <tbody>

    <tr>

     <td><span class="RktSym">getmail</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">version</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">4.43.0</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktSym">Copyright</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">C</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">1998-2012</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Charles</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Cazabon.</span><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Licensed</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">under</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">the</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">GNU</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">GPL</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">version</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">2.</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktSym">SimpleIMAPSSLRetriever:foobar@gmail.com@imap.gmail.com:993:</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktSym">...</span><span class="RktMeta"></span></td></tr></tbody></table></div>


 <h1>2

  <tt>&nbsp;</tt><a name="(part._.Reading_.Messages)"></a>Reading Messages</h1>


 <p>Now that we can download our messages, we need to have a way to read them. This
is where mu and the accompanying emacs-based client, mu, comes in.</p>


 <h2>2.1

  <tt>&nbsp;</tt><a name="(part._.Installation)"></a>Installation</h2>


 <p>Just like with getmail above, chances are, mu can be installed via your
system&rsquo;s package manager. If you are using a
<a href="https://www.debian.org/misc/children-distros">Debian-based
system</a>, you can install it by running:</p>


 <div class="SCodeFlow">

  <table cellspacing="0" class="RktBlk">

   <tbody>

    <tr>

     <td><span class="RktSym">$</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">sudo</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">apt-get</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">install</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">maildir-utils</span><span class="RktMeta"></span></td></tr></tbody></table></div>


 <p>If you are using <a href="https://nixos.org/nixos/">NixOS</a>, you can
install by running:</p>


 <div class="SCodeFlow">

  <table cellspacing="0" class="RktBlk">

   <tbody>

    <tr>

     <td><span class="RktSym">$</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">nix-env</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">-i</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">mu</span><span class="RktMeta"></span></td></tr></tbody></table></div>


 <p>In addition to the above, we need to fetch mu4e. This comes with mu&rsquo;s source
code. Download it by running:</p>


 <div class="SCodeFlow">

  <table cellspacing="0" class="RktBlk">

   <tbody>

    <tr>

     <td><span class="RktSym">$</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">mkdir</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">~/.emacs.d</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktSym">$</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">cd</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">~/.emacs.d</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktSym">$</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">git</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">clone</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">git@github.com:djcb/mu.git</span><span class="RktMeta"></span></td></tr></tbody></table></div>


 <p>This creates a <span class="RktSym">mu/</span><span class="RktMeta"></span> directory in the current directory, which happens to
be the default location from which emacs looks for init files. Take note, that
the git command above actually fetches the source code of mu, and we can
actually use it to install mu. But since, you have your package manager, we&rsquo;ll
ignore that. Also the location from which the <span class="RktSym">mu/mu4e/</span><span class="RktMeta"></span> subdirectory exists
from the package manager&rsquo;s installation, varies between systems. So, for now,
we&rsquo;re only interested with the <span class="RktSym">mu/mu4e/</span><span class="RktMeta"></span> subdirectory.</p>


 <h2>2.2

  <tt>&nbsp;</tt><a name="(part._.Configuration)"></a>Configuration</h2>


 <p>We now need to make that mu4e directory accessible to emacs. To do so, we need
to edit either <span class="RktSym">~/.emacs.d/init.el</span><span class="RktMeta"></span> or <span class="RktSym">~/.emacs</span><span class="RktMeta"></span>:</p>


 <div class="SCodeFlow">

  <table cellspacing="0" class="RktBlk">

   <tbody>

    <tr>

     <td><span class="RktSym">$</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">emacs</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">~/.emacs.d/init.el</span><span class="RktMeta"></span></td></tr></tbody></table></div>


 <p>Then add the following:</p>


 <div class="SCodeFlow">

  <table cellspacing="0" class="RktBlk">

   <tbody>

    <tr>

     <td><span class="RktPn">(</span><span class="RktSym">setq</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">load-path</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">append</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">load-path</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">'</span><span class="RktPn">(</span><span class="RktVal">"~/.emacs.d/mu/mu4e"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">require</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">'</span><span class="RktSym">mu4e</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></tbody></table></div>


 <p>Additionally we need to put in some information about us, so that emacs won&rsquo;t
bother asking us about those details later on:</p>


 <div class="SCodeFlow">

  <table cellspacing="0" class="RktBlk">

   <tbody>

    <tr>

     <td><span class="RktPn">(</span><span class="RktSym">setq</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">user-full-name</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"Foo</span><span class="hspace">&nbsp;</span><span class="RktVal">B.</span><span class="hspace">&nbsp;</span><span class="RktVal">Baz"</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">user-mail-address</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"foo@bar.baz"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></tbody></table></div>


 <p>To make our life even easier, we&rsquo;ll set some variables:</p>


 <div class="SCodeFlow">

  <table cellspacing="0" class="RktBlk">

   <tbody>

    <tr>

     <td><span class="RktPn">(</span><span class="RktSym">setq</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">mu4e-get-mail-command</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"getmail"</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">mu4e-update-interval</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">300</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">mu4e-attachment-dir</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"~/Downloads"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></tbody></table></div>


 <h2>2.3

  <tt>&nbsp;</tt><a name="(part._.Execution)"></a>Execution</h2>


 <p>You can restart emacs so that those settings can take effect, or alternatively,
you can mark (C-space) those lines, then hit:</p>


 <div class="SCodeFlow">

  <table cellspacing="0" class="RktBlk">

   <tbody>

    <tr>

     <td><span class="RktSym">M-x</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">eval-region</span><span class="RktMeta"></span></td></tr></tbody></table></div>


 <p>At this point, you can now use mu4e, by hitting:</p>


 <div class="SCodeFlow">

  <table cellspacing="0" class="RktBlk">

   <tbody>

    <tr>

     <td><span class="RktSym">M-x</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">mu4e</span><span class="RktMeta"></span></td></tr></tbody></table></div>


 <p>You&rsquo;ll get a sexy menu, wherein you can hit shortcuts to get you to where you
want. To compose a message, hit <span class="RktSym">C</span><span class="RktMeta"></span>, fill in the fields, then hit
<span class="RktSym">C-c</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">C-c</span><span class="RktMeta"></span> to send the message. The rest of the commands should be
self-explanatory, but if you want to learn more, you can read the nice
<a href="http://www.djcbsoftware.nl/code/mu/mu4e/index.html">mu4e manual</a>.</p>


 <h2>2.4

  <tt>&nbsp;</tt><a name="(part._.Encryption)"></a>Encryption</h2>


 <p>Optionally, you may want to add some tweaks so that encryption and
decryption of messages, will be easier. This is actually one of my primary
reasons why I&rsquo;m using mu4e &ndash; it has been pointed out to me that despite using
browser extensions like <a href="http://getfiregpg.org/s/home">FireGPG</a>, and
<a href="https://addons.mozilla.org/en-US/firefox/addon/its-all-text/">It&rsquo;s
All Text!</a>, the supposedly private message that you composed got auto-saved by
default to the <span style="font-style: italic">Drafts</span> folder. This implies, that your unencrypted
message, was still saved somewhere. Ahem.</p>


 <p>To make use of these cryptographic utilities, edit your emacs init:</p>


 <div class="SCodeFlow">

  <table cellspacing="0" class="RktBlk">

   <tbody>

    <tr>

     <td><span class="RktSym">$</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">emacs</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">~/.emacs.d/init.el</span><span class="RktMeta"></span></td></tr></tbody></table></div>


 <p>Then add the following:</p>


 <div class="SCodeFlow">

  <table cellspacing="0" class="RktBlk">

   <tbody>

    <tr>

     <td><span class="RktPn">(</span><span class="RktSym">require</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">'</span><span class="RktSym">mml2015</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">require</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">'</span><span class="RktSym">epa-file</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta">&#160;</span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">defun</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">encrypt-message</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">&amp;optional</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">arg</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">interactive</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"p"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">mml-secure-message-encrypt-pgp</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta">&#160;</span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">defun</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">decrypt-message</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">&amp;optional</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">arg</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">interactive</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"p"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">epa-decrypt-armor-in-region</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">point-min</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">point-max</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta">&#160;</span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">defalias</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">'</span><span class="RktSym">ec</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">'</span><span class="RktSym">encrypt-message</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr>

    <tr>

     <td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">defalias</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">'</span><span class="RktSym">dc</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">'</span><span class="RktSym">decrypt-message</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></tbody></table></div>


 <p>Mark those lines, then hit:</p>


 <div class="SCodeFlow">

  <table cellspacing="0" class="RktBlk">

   <tbody>

    <tr>

     <td><span class="RktSym">M-x</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">eval-region</span><span class="RktMeta"></span></td></tr></tbody></table></div>


 <p>To make the settings take effect, immediately.</p>


 <p>To send an encrypt a message, hit <span class="RktSym">C</span><span class="RktMeta"></span> from the main menu of mu4e, fill in
the usual fields like <span class="RktSym">To:</span><span class="RktMeta"></span>, and <span class="RktSym">Subject:</span><span class="RktMeta"></span>, then on the message
body, hit:</p>


 <div class="SCodeFlow">

  <table cellspacing="0" class="RktBlk">

   <tbody>

    <tr>

     <td><span class="RktSym">M-x</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">ec</span><span class="RktMeta"></span></td></tr></tbody></table></div>


 <p>This will tag your outgoing message to be signed and encrypted. To send the
it, hit <span class="RktSym">C-c</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">C-c</span><span class="RktMeta"></span>. This will then prompt you to input your
passphrase. It will also ask you to fill in some information regarding your
outgoing mail server (SMTP). The SMTP server for Gmail is
<span style="font-style: italic">smtp.gmail.com</span>, then use USERNAME@gmail.com when prompted for the
username. Use your regular password, when prompted, or input your
application-specific password, as described earlier. These information will be
saved to <span class="RktSym">~/.authinfo</span><span class="RktMeta"></span>, and will be used for later messages.</p>


 <p>To decrypt a message, open the message, then hit:</p>


 <div class="SCodeFlow">

  <table cellspacing="0" class="RktBlk">

   <tbody>

    <tr>

     <td><span class="RktSym">M-x</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">dc</span><span class="RktMeta"></span></td></tr></tbody></table></div>


 <p>This will prompt you to input your passphrase. After which, you&rsquo;ll be prompted
if you&rsquo;ll want to replace the contents of the buffer, say yes to this.</p>


 <p>These approaches are not fool-proof, because there&rsquo;s at least two gaping holes
that you have to be aware of &ndash; emacs backups, and mu4e drafts. With the
former, when you are using emacs&rsquo; backup facility, or a package like
<a href="http://www.emacswiki.org/emacs/BackupDirectory">backup-dir</a>,
messages that you compose, presumably before you encrypt it, will have an
unencrypted copy to the local disk. With the latter, the same principle
applies. So be wary of these situations, and tweak your configuration, as
necessary.</p>


 <h1>3

  <tt>&nbsp;</tt><a name="(part._.Conclusion)"></a>Conclusion</h1>


 <p>Bear in mind that I purposely avoided fleshing out many details, as it would
conflate the attempt of this article to make things simple. However, if you
want to learn more, you can always go to the
<a href="http://pyropus.ca/software/getmail/documentation.html">getmail</a>
and <a href="http://www.djcbsoftware.nl/code/mu/mu4e/index.html">mu4e</a>
documentation, to fill in missing gaps, that you may have.</p>

 <footer>

  <script type="text/javascript">
      !function(d,s,id){
          var js,fjs=d.getElementsByTagName(s)[0];
          if(!d.getElementById(id)){
              js=d.createElement(s);
              js.id=id;
              js.src="//platform.twitter.com/widgets.js";
              fjs.parentNode.insertBefore(js,fjs);
          }
      }(document,"script","twitter-wjs");
    </script>
    <a class="twitter-share-button" data-dnt="true" data-url="http://www.example.com/blog/2014/02/17/emacs-mail/" href="https://twitter.com/share">
      "Tweet"</a>

  <script src="https://apis.google.com/js/plusone.js" type="text/javascript"></script>

  <g:plusone href="http://www.example.com/blog/2014/02/17/emacs-mail/" size="medium"></g:plusone>

  <script type="text/javascript">
      var disqus_shortname = 'ebzzry';
      (function() {
          var dsq = document.createElement('script');
          dsq.type = 'text/javascript';
          dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>

  <div id="disqus_thread"></div>

  <ul class="pager">


   <li class="next">
      <a href="/blog/2013/09/29/emacs-racket/"><em>Emacs: Racket</em> &rarr;</a>
    </li>
    </ul>
  </footer>
</article>
        </div>
      </div>
      <footer>
        <hr />
        <p><a href="https://twitter.com/ebzzry"
              class="twitter-follow-button"
              data-show-count="false"
              data-lang="en">
             "Follow Rommel"
           </a>
           <script type="text/javascript">
             !function(d,s,id){
                 var js,fjs=d.getElementsByTagName(s)[0];
                 if(!d.getElementById(id)){
                     js=d.createElement(s);
                     js.id=id;
                     js.src="//platform.twitter.com/widgets.js";
                     fjs.parentNode.insertBefore(js,fjs);
                 }
             }(document,"script","twitter-wjs");
           </script></p>
        <p>Site created with
          <a href="http://www.racket-lang.org">Racket</a>,
          <a href="http://github.com/greghendershott/frog">Frog</a>,
          <a href="http://www.gnu.org/software/emacs/">Emacs</a>, and
          <a href="http://twitter.github.io/bootstrap">Bootstrap</a></p>
        <p><em>Copyright &copy; 2013 by <a href="http://rmm.meta.ph">Rommel M. Martinez</a></em></p>
      </footer>
    </div>
    <!-- </body> JS -->
    <script type="text/javascript" src="//code.jquery.com/jquery.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
  </body>
</html>