<html><head><title>Emacs and Hacks (Part I)</title><meta content="text/html;charset=utf-8" http-equiv="Content-Type" /><link href="static/ico/glider.ico" rel="icon" type="image/x-icon" /><link href="static/css/main.css" media="all" rel="stylesheet" /><link href="static/css/ewan.css" media="all" rel="stylesheet" /><script src="static/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><h1>Emacs and Hacks (Part I)</h1><p><center>2013-09-10 13:23:34</center></p><p>In this series of posts, I will be sharing my personal hacks on how I use Emacs for my day-to-day stuff.</p><h2>Regions</h2><p>This command deletes a region if one is active, or deletes the character underneath the cursor.</p><pre><code class="lisp">&#40;defun delete-char-or-region &#40;&amp;optional arg&#41;
  &#40;interactive &quot;p&quot;&#41;
  &#40;if &#40;region-active-p&#41;
      &#40;delete-region &#40;region-beginning&#41;
                     &#40;region-end&#41;&#41;
      &#40;if &#40;fboundp 'sp-delete-char&#41;
          &#40;sp-delete-char arg&#41;
          &#40;delete-forward-char arg&#41;&#41;&#41;&#41;
</code></pre><h2>Compilation</h2><p>I use this command frequently, and I use it from typesetting LaTeX documents, compiling Scribble documents, compiling code, and just about anything that I can use make with.</p><pre><code class="lisp">&#40;defun compile-file &#40;&#41;
  &#40;interactive&#41;
  &#40;compile &quot;make -k&quot;&#41;&#41;
</code></pre><h3>Scheme</h3><p>I want to have a command that explicitly saves the input ring of Geiser:</p><pre><code class="lisp">&#40;defun geiser-save &#40;&#41;
  &#40;interactive&#41;
  &#40;geiser-repl--write-input-ring&#41;&#41;
</code></pre><p>I also have the following, because I want to align the <code>λ</code> symbol nicely.</p><pre><code class="lisp">&#40;defun my-scheme-mode-hook &#40;&#41;
  &#40;put 'λ 'scheme-indent-function 1&#41;&#41;

&#40;add-hook 'scheme-mode-hook 'my-scheme-mode-hook&#41;
</code></pre><h2>Server</h2><p>This snippet ensures that the Emacs server, the one that <code>emacsclient</code> connects to:</p><pre><code class="lisp">&#40;require 'server&#41;

&#40;unless &#40;server-running-p&#41;
  &#40;server-start&#41;&#41;
</code></pre><p>Alternatively, you may run Emacs in daemon mode from the command-line:</p><pre><code class="bash">$ emacs --daemon
</code></pre><h2>Buffers</h2><p>I want a way to kill the current buffer, without being asked what buffer to kill. I will only get prompted if the current has been modified.</p><pre><code class="lisp">&#40;defun kill-current-buffer &#40;&#41;
  &#40;interactive&#41;
  &#40;kill-buffer &#40;current-buffer&#41;&#41;&#41;
</code></pre><h2>Marks</h2><p>There have been plenty of times in the past when I needed a function that just marks a line. What I have is below. Executing it multiple times, marks multiple lines.</p><pre><code class="lisp">&#40;defun mark-line &#40;&amp;optional arg&#41;
  &#40;interactive &quot;p&quot;&#41;
  &#40;if &#40;not mark-active&#41;
      &#40;progn
        &#40;beginning-of-line&#41;
        &#40;push-mark&#41;
        &#40;setq mark-active t&#41;&#41;&#41;
  &#40;forward-line arg&#41;&#41;
</code></pre><h2>Key Bindings</h2><p>The key bindings for the commands above, are listed below:</p><pre><code class="lisp">&#40;bind-keys
 :map global-map
 &#40;&quot;&lt;delete&gt;&quot; . delete-char-or-region&#41;
 &#40;&quot;C-x C-k&quot; . kill-current-buffer&#41;
 &#40;&quot;C-x c&quot; . compile-file&#41;
 &#40;&quot;M-z&quot; . mark-line&#41;&#41;

&#40;bind-keys
 :map scheme-mode-map
 &#40;&quot;C-c &lt;tab&gt;&quot; . completion-at-point&#41;&#41;
</code></pre><h2>Conclusion</h2><p>I hope you'll be able to find use of any of them. The rest of the configuration can be found at <a href="https://github.com/ebzzry/dotemacs">https://github.com/ebzzry/dotemacs</a>.</p><hr/><center>  <small>Site created with <a href='https://github.com/ebzzry/emem'>emem</a>, &amp; <a href='https://gnu.org/software/emacs'>emacs</a></small><br/>  <small>Copyright © Rommel M. Martinez</small></center</body></html>