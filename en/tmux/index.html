<!DOCTYPE html>
<html lang="en"><head><title>How I Roll with Tmux</title><meta charset="utf-8" /><meta content="width=device-width,initial-scale=1.0,user-scalable=yes" name="viewport" /><meta content="noodp,noydir" name="robots" /><link rel='apple-touch-icon' sizes='180x180' href='/images/ico/apple-touch-icon.png'><link rel='icon' type='image/png' sizes='32x32' href='/images/ico/favicon-32x32.png'><link rel='icon' type='image/png' sizes='16x16' href='/images/ico/favicon-16x16.png'><link rel='manifest' href='/images/ico/site.webmanifest'><link rel='mask-icon' href='/images/ico/safari-pinned-tab.svg' color='#5bbad5'><link rel='shortcut icon' href='/images/ico/favicon.ico'> <meta name='msapplication-TileColor' content='#da532c'> <meta name='msapplication-config' content='/images/ico/browserconfig.xml'> <meta name='theme-color' content='#ffffff'><meta content="How I Roll with Tmux" name="description" /><meta content="tmux, configuration, setup, settings, linux, macos" name="keywords" /><meta content="How I Roll with Tmux" property="og:title" /><meta content="article" property="og:type" /><meta content="https://ebzzry.com/en/tmux/" property="og:url" /><meta content="https://ebzzry.com/images/ico/android-chrome-512x512.png" property="og:image" /><style media="all" type="text/css">html {    color: #333;    font-size: 1em;    font-family: Georgia, Cambria, Palatino, "Palatino Linotype", "Times New Roman", Times, serif;    line-height: 1.45;    text-align: left:    width: 100%;    max-width: 40em;    margin: 0 auto 0 auto;    padding: 0;}body {    border-top: hidden;    border-bottom: hidden;    padding: 0 1.5em 1em 1.5em;    margin: 0;}#content {    -webkit-column-count: 1;    -moz-column-count: 1;    column-count: 1;}code {    font-size: 0.9em;    font-family: "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Lucida Console", "Courier New", Courier, monospace;    color: black;    display: inline-block;    font-weight: bold;}pre code {    font-size: 1em;    font-family: monospace;    line-height: 1.3em;    overflow: auto;    font-weight: normal;}kbd {    font-size: 1.1em;    padding: 0.1em 0.6em;    border: 1px solid #ccc;    font-family: monospace;    background-color: #f7f7f7;    color: #333;    -moz-box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    -webkit-box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    -moz-border-radius: 3px;    -webkit-border-radius: 3px;    border-radius: 3px;    display: inline-block;    margin: 0 0.1em;    text-shadow: 0 1px 0 #fff;    white-space: nowrap;}h1, h2, h3, h4, h5, h6 {    font-family: Calibri, "Gill Sans", "Gill Sans MT", "Myriad Pro", Myriad, "DejaVu Sans", Tahoma, Geneva, Helvetica, Arial, sans-serif;    margin-bottom: 0;}h1 {    font-size: 2.5em;    text-align: center;    border-bottom: 6px solid black;}h2 {    font-size: 2.0em;    text-align: left;    border-bottom: 2px solid black;}h3 {    font-size: 1.6em;    text-align: left;    border-bottom: 1px solid lightgrey;}h4 {    font-size: 1.5em;    text-align: left;}h5 {    font-size: 1.3em;    text-align: left;}ul, ol {    padding-left: 2em;}ul li {    list-style-type: square;}ul li li {    list-style-type: disc;}ul li li li {    list-style-type: circle;}ol li {    list-style-type: decimal;}p, para, b, strong, i, em, emph {    font-size: 1em;}blockquote {    font-size: 1.2em;    font-style: italic;    margin-left: 2em;}b, strong {    font-weight: bold;}i, em, emph {    font-style: italic;}table {    margin: 0.5em;    border-spacing: 0;    border-collapse: collapse;}th, td {    border: 1px solid lightgray;    padding-top: 0;    padding-bottom: 0;    padding-left: 0.45em;    padding-right: 0.45em;}.text-right {    text-align: right;}.text-small {    font-size: small;}.text-x-small {    font-size: x-small;}.banner {    display: block;    width: 100%;    margin-left: auto;    margin-right: auto;}.footer {    text-align: right;    float: right;    max-width: 18em;}.cc {    border-width: 0}.center {    text-align: center;}</style><style media="all" type="text/css">html { max-width: 50em; } .footer { max-width: 24em }</style><style media="all" type="text/css">/* Ewan Themes -- based 99.99% from Tomorrow Night Theme *//* http://jmblog.github.com/color-themes-for-google-code-highlightjs *//* Original theme - https://github.com/chriskempson/tomorrow-theme *//* http://jmblog.github.com/color-themes-for-google-code-highlightjs *//* Tomorrow Comment */.hljs-comment {  color: #969896;}/* Tomorrow Red */.hljs-variable,.hljs-attribute,.hljs-tag,.hljs-regexp,.ruby .hljs-constant,.xml .hljs-tag .hljs-title,.xml .hljs-pi,.xml .hljs-doctype,.html .hljs-doctype,.css .hljs-id,.css .hljs-class,.css .hljs-pseudo {  color: #cc6666;}/* Tomorrow Orange */.hljs-number,.hljs-preprocessor,.hljs-pragma,.hljs-built_in,.hljs-literal,.hljs-params,.hljs-constant {  color: #de935f;}/* Tomorrow Yellow */.ruby .hljs-class .hljs-title,.css .hljs-rule .hljs-attribute {  color: #f0c674;}/* Tomorrow Green */.hljs-string,.hljs-value,.hljs-inheritance,.hljs-header,.hljs-name,.ruby .hljs-symbol,.xml .hljs-cdata {  color: #b5bd68;}/* Tomorrow Aqua */.hljs-title,.css .hljs-hexcolor {  color: #8abeb7;}/* Tomorrow Blue */.hljs-function,.python .hljs-decorator,.python .hljs-title,.ruby .hljs-function .hljs-title,.ruby .hljs-title .hljs-keyword,.perl .hljs-sub,.javascript .hljs-title,.coffeescript .hljs-title {  color: #81a2be;}/* Tomorrow Purple */.hljs-keyword,.javascript .hljs-function {  color: #b294bb;}.hljs {  display: block;  overflow-x: auto;  background: #1d1f21;  color: #c5c8c6;  padding: 0.5em;  -webkit-text-size-adjust: none;}.coffeescript .javascript,.javascript .xml,.tex .hljs-formula,.xml .javascript,.xml .vbscript,.xml .css,.xml .hljs-cdata {  opacity: 0.5;}pre code {    font-size: 1.1em;    font-family: monospace;    line-height: 1.3em;    overflow: auto;}</style></head><body><div id="content"><h1>How I Roll with Tmux</h1><p><div class="center"><a href='/eo/timukso'>Esperanto</a> • English</div> <div class="center">Last updated: March 18, 2022</div></p><blockquote><p>Furious activity is no substitute for understanding.<br> —H.H. Williams </p></blockquote><p><img src="/images/site/lysander-yuen-wk833OrQLJE-unsplash-1008x250.webp" style="display: block; width: 100%; margin-left: auto; margin-right: auto;" alt="lysander-yuen-wk833OrQLJE-unsplash" title="lysander-yuen-wk833OrQLJE-unsplash"/></p><h2><a name="toc">Table of contents</a></h2><ul><li><a href='#introduction'>Introduction</a></li><li><a href='#general'>General</a><ul><li><a href='#indexes'>Indexes</a></li><li><a href='#clients'>Clients</a></li><li><a href='#sourcing'>Sourcing</a></li></ul></li><li><a href='#windows'>Windows</a><ul><li><a href='#windowsmovement'>Movement</a></li><li><a href='#windowscontrol'>Control</a></li></ul></li><li><a href='#panes'>Panes</a><ul><li><a href='#panesmovement'>Movement</a></li><li><a href='#panesmerging'>Merging</a></li></ul></li><li><a href='#statusbar'>Status bar</a></li><li><a href='#plugins'>Plugins</a></li><li><a href='#selections'>Selections</a></li><li><a href='#try'>Trying it out</a></li><li><a href='#closingremarks'>Closing remarks</a></li></ul><h2><a name="introduction">Introduction</a></h2><p>Just like with a text editor, a terminal multiplexer is one of the few tools that yields a lot of productivity once you learn how to use it. In this article, I’ll talk about <a href='https://github.com/tmux/tmux'>tmux</a>—a session manager, multiplexer, window manager, and one of the most important pieces of software that changed the way I do computing.</p><p>For a long time, I have used <a href='https://www.gnu.org/software/screen/'>GNU Screen</a> for multiplexing. There was such an exhilarating feeling when you lose connection to a host, only to discover that the program that you ran on screen was still running.</p><p>However, when I discovered tmux, I quickly realized how much I was missing. Both tmux and screen, are multiplexers, but somehow they are addressing different problems. In my personal case, tmux gave me what I sorely missed from screen.</p><p>In this article, I will walk you through my configuration and give you a rough idea how I work with tmux.</p><h2><a name="general">General</a></h2><p>It is a good rule of thumb to start with the more general aspects of a configuration, before moving on to the more specific ones. This section will look at some of those settings.</p><h3><a name="indexes">Indexes</a></h3><pre><code>set -g default-shell $SHELL

set -g base-index 1
setw -g pane-base-index 1
set -g history-limit 100000

unbind C-b
bind C-z send-prefix
set -g prefix C-z
</code></pre><p>This sets the the initial window number to start at 1, instead of 0; it makes it easier to switch to a specific window, later. This also sets the history limit and the prefix key. I unbound <kbd>C-b</kbd> because it is too damn important for Emacs and Zsh use.</p><h3><a name="clients">Clients</a></h3><pre><code>bind D detach-client
bind b choose-tree
bind n new-session -c &quot;#{pane&#95;current&#95;path}&quot;
bind @ setw synchronize-panes
</code></pre><p>This binds several keys to detach the current session, and select a session from a tree chooser. The <kbd>C-z @</kbd> key enables multiple panes in one window, to receive the same keyboard input. This is very useful when troubleshooting remote connections simultaneously.</p><h3><a name="sourcing">Sourcing</a></h3><pre><code>bind . source-file &#126;/.tmux.conf
bind r move-window -r \; setw automatic-rename
bind x kill-pane \; move-window -r \; setw automatic-rename
bind &amp; kill-window \; move-window -r \; setw automatic-rename
bind k send-keys C-l \; send-keys -R \; clear-history
</code></pre><p>Here, I rebound <kbd>C-z x</kbd> and <kbd>C-z &</kbd>, so that when windows are removed the numberings are automatically updated. Manual override by means of <kbd>C-z r</kbd> is also available.</p><p>I also rebound <kbd>C-z x</kbd> and <kbd>C-z &</kbd> to kill panes and windows, respectively, without user prompts.</p><p>I bound the key <kbd>C-z k</kbd> to delete the buffer history to clear the view.</p><h2><a name="windows">Windows</a></h2><p>Windows are the equivalent of browser tabs in tmux. It organizes sessions into subsessions.</p><h3><a name="windowsmovement">Movement</a></h3><pre><code>bind -n S-left previous-window
bind -n S-right next-window
bind -n S-up swap-window -t -1\; previous-window
bind -n S-down swap-window -t +1\; next-window

bind -n M-1 select-window -t 1
bind -n M-2 select-window -t 2
bind -n M-3 select-window -t 3
bind -n M-4 select-window -t 4
bind -n M-5 select-window -t 5
bind -n M-6 select-window -t 6
bind -n M-7 select-window -t 7
bind -n M-8 select-window -t 8
bind -n M-9 select-window -t 9
</code></pre><p>We bound <kbd>S-left</kbd> and <kbd>S-right</kbd>, to switch windows, backwards and forwards, respectively. We also bound <kbd>C-z left</kbd> and <kbd>C-z right</kbd>, to swap windows to the left and to the right, respectively.</p><p>To quickly switch to specific windows, we bound several keys to the <kbd>Alt</kbd> key, otherwise known as <kbd>Meta</kbd>.</p><h3><a name="windowscontrol">Control</a></h3><pre><code class="bash">bind c new-window -c &quot;#{pane&#95;current&#95;path}&quot;
bind C new-window -c &#126;

bind '&quot;' split-window -v -c &quot;#{pane&#95;current&#95;path}&quot;
bind % split-window -h -c &quot;#{pane&#95;current&#95;path}&quot;
bind Space last-window
</code></pre><p>This binds keys to start a new session from the current working directory or from the home directory. This also binds keys to split the view vertically or horizontally, with the current working directory as a starting point. I also want that there’s an easy key to change to the last window.</p><h2><a name="panes">Panes</a></h2><p>Panes are the subdivisions of windows. They are similar to page frames in the context of web browsers.</p><h3><a name="panesmovement">Movement</a></h3><pre><code>bind -n C-Left select-pane -t :.-
bind -n C-Right select-pane -t :.+
bind -n C-Up swap-pane -U
bind -n C-Down swap-pane -D

bind 0 select-pane -t 0
bind 1 select-pane -t 1
bind 2 select-pane -t 2
bind 3 select-pane -t 3
bind 4 select-pane -t 4
bind 5 select-pane -t 5
bind 6 select-pane -t 6
bind 7 select-pane -t 7
bind 8 select-pane -t 8
bind 9 select-pane -t 9
</code></pre><p>We bound <kbd>C-Left</kbd> and <kbd>C-Right</kbd> to select panes, backwards and forwards, respectively. We also bound <kbd>C-Up</kbd> and <kbd>C-Down</kbd>, to swap panes backwards and forwards, respectively.</p><p>The other keys allow us to switch to specific panes.</p><h3><a name="panesmerging">Merging</a></h3><pre><code>bind m command-prompt -p &quot;Merge pane to:&quot;  &quot;join-pane -t '%%'&quot;
bind M command-prompt -p &quot;Merge pane from:&quot;  &quot;join-pane -s '%%'&quot;
bind h select-pane -m
</code></pre><p>This binds <kbd>C-z m</kbd> and <kbd>C-z M</kbd> to merge panes to and from, a specific window, respectively. We also bound <kbd>C-z h</kbd> to highlight the borders of the current pane.</p><h2><a name="statusbar">Status bar</a></h2><p>The status bar provides a lot of feedback, and we can also customize it. I set up mine as such:</p><pre><code>set -g status-position bottom
set -g status-bg &quot;#3F3F3F&quot;
set -g status-fg default

setw -g window-status-format &quot;#I:#W#F &quot;
setw -g window-status-current-format &quot;#I:#W#F &quot;

setw -g window-status-attr bold
setw -g window-status-fg &quot;#D8D8D8&quot;
setw -g window-status-bg &quot;#3F3F3F&quot;

setw -g window-status-current-attr bold
setw -g window-status-current-fg green
setw -g window-status-current-bg black

set -g status-interval 1

set -g status-left ''
set -g status-left-fg green
set -g status-left-bg black

set -g status-right '#{prefix&#95;highlight}'
set -g status-right-fg green
set -g status-right-bg black
set -g status-right-length 50

set -g pane-border-fg &quot;#3F3F3F&quot;
set -g pane-border-bg black
set -g pane-active-border-fg green
set -g pane-active-border-bg black
</code></pre><p>However, if you are already using the <code>2.9.X</code> series, use the following instead:</p><pre><code>set -g status-position bottom
set -g status-bg &quot;#3F3F3F&quot;
set -g status-fg default

setw -g window-status-format &quot;#I:#W#F &quot;
setw -g window-status-current-format &quot;#I:#W#F &quot;

setw -g window-status-style fg=&quot;#D8D8D8&quot;,bg=&quot;#3F3F3F&quot;,bold
setw -g window-status-current-style fg=green,bg=black,bold

set -g status-interval 1

set -g status-left ''
set -g status-left-style fg=green,bg=black

set -g status-right '#{prefix&#95;highlight}'
set -g status-right-length 50
set -g status-right-style fg=green,bg=black

set -g pane-border-style fg=&quot;#3F3F3F&quot;,bg=black
set -g pane-active-border-style fg=green,bg=black
</code></pre><p>This displays the status bar on the bottom of the terminal, and shows all the windows starting from 1, while displaying the date on the right.</p><h2><a name="plugins">Plugins</a></h2><p>I use several plugins to supplement my configuration. It ranges from the plugin manager, itself to clipboard control. The following is a summary.</p><pre><code>set -g @plugin 'tmux-plugins/tpm'</code></pre><p>Loads the plugin manager itself.</p><pre><code>set -g @plugin 'tmux-plugins/tmux-resurrect'</code></pre><p>Provides the keys <kbd>C-z C-s</kbd> and <kbd>C-z C-r</kbd> to save and restore sessions, respectively.</p><pre><code>set -g @plugin 'tmux-plugins/tmux-continuum'</code></pre><p>Complements tmux-resurrect by automatically restoring sessions on your initial tmux start up.</p><pre><code>set -g @plugin 'tmux-plugins/tmux-yank'</code></pre><p>Adds a <kbd>y</kbd> key while in copy mode—<kbd>C-z [</kbd>—to put the current selection to the clipboard.</p><pre><code>set -g @continuum-restore 'on'
run '&#126;/.tmux/plugins/tpm/tpm'</code></pre><p>Loads the saved sessions on startup and runs the plugin manager.</p><p>To install all the plugins, press <kbd>C-z I</kbd>.</p><h2><a name="selections">Selection</a></h2><p>With tmux, I can have access to three selections at once: the <code>PRIMARY</code>, <code>CLIPBOARD</code>, and the tmux selections.</p><p>The <code>PRIMARY</code> selection is the one involved when you highlight something with your (mouse) pointer. You can extract the contents using Middle-click or <kbd>Shift+Insert</kbd>.</p><p>The <code>CLIPBOARD</code> selection is the one involved when you explicity make a request to have something copied, usually done with <kbd>C-c</kbd>, <code>Right-click &gt; Copy</code>, or <code>Edit &gt; Copy</code>, with graphical applications, like web browsers. You can extract the contents using <kbd>C-v</kbd>, <code>Right-click &gt; Paste</code>, or <code>Edit &gt; Paste</code>.</p><p>The tmux selection is the one involved when you enter copy mode. This is done by pressing <kbd>C-z [</kbd> first, then <kbd>C-Space</kbd> to mark the selection, then use the movement keys to define the area. The contents are copied using <kbd>M-w</kbd>. You can extract the contents by pressing <kbd>C-z ]</kbd>.</p><p>With tmux, I no longer have to use the (mouse) pointer to manipulate my selections.</p><h2><a name="try">Trying it out</a></h2><p>If you want to play with these settings, you may download the config file to your system. But first, let’s backup your existing configuration:</p><pre><code>$ mv &#126;/.tmux.conf{,.backup}</code></pre><p>Then, kill tmux:</p><pre><code>$ killall tmux</code></pre><p>Then, let’s then install the config file:</p><pre><code>$ curl -SLo &#126;/.tmux.conf https://raw.githubusercontent.com/ebzzry/dotfiles/master/tmux/.tmux.conf</code></pre><p>Finally, restart tmux</p><pre><code>$ tmux</code></pre><p>If tmux complains that you are missing some plugins, press <kbd>C-z I</kbd>.</p><h2><a name="closingremarks">Closing remarks</a></h2><p>Tmux is one of the tools that one must be using when working with the terminal and command line. It enables workflow that would otherwise be difficult to do with other multiplexers, or very difficult to do with regular non-managed sessions. For the rest of the definitions, visit the repo <a href='https://github.com/ebzzry/dotfiles/tree/main/tmux/.tmux.conf'>here</a>.</p><p>If you use git, you may also like the article about how I use it. It can be found <a href='/en/git/'>here</a>.</p><hr/><div class="footer"><p><div class="text-small"> <a href='/en/'>Home</a> • <a href='/en/about/'>About</a> • <a href='/en/quotes/'>Quotes</a> • <a href='/en/reflections/'>Reflections</a> • <a href='https://github.com/ebzzry/ebzzry.github.io'>Source</a> • <a href='https://creativecommons.org/publicdomain/zero/1.0/deed.en'>License</a> </div></p><p><div class="text-x-small"> Made with ❤️ by Rommel Martínez </div></p><p></div></p></div><script src="/static/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></body></html>