<!DOCTYPE html>
<html lang="en"><head><title>Zsh Tips 1: Aliases and Functions</title><meta charset="utf-8" /><meta content="width=device-width,initial-scale=1.0,user-scalable=yes" name="viewport" /><meta content="noodp,noydir" name="robots" /><meta content="Zsh Tips 1: Aliases and Functions" name="description" /><meta content="zsh, tips, advice, shell, linux, configuration, setup, settings" name="keywords" /><meta content="Zsh Tips 1: Aliases and Functions" property="og:title" /><meta content="article" property="og:type" /><meta content="https://ebzzry.io/en/zsh-tips-1/" property="og:url" /><meta content="https://ebzzry.io/static/ico/android-chrome-512x512.png" property="og:image" /><link href="/static/ico/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180" /><link href="/static/ico/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" /><link href="/static/ico/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" /><link href="/static/ico/manifest.json" rel="manifest" /><link color="#5bbad5" href="/static/ico/safari-pinned-tab.svg" rel="mask-icon" /><meta content="#ffffff" name="theme-color" /><style media="all" type="text/css">html {    color: #333;    font-size: 1em;    font-family: Georgia, Cambria, Palatino, "Palatino Linotype", "Times New Roman", Times, serif;    line-height: 1.45;    text-align: left:    width: 100%;    max-width: 40em;    margin: 0 auto 0 auto;    padding: 0;}body {    border-top: hidden;    border-bottom: hidden;    padding: 0 1.5em 1em 1.5em;    margin: 0;}#content {    -webkit-column-count: 1;    -moz-column-count: 1;    column-count: 1;}code {    font-size: 0.9em;    font-family: "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Lucida Console", "Courier New", Courier, monospace;    color: black;    display: inline-block;    font-weight: bold;}pre code {    font-size: 1em;    font-family: monospace;    line-height: 1.3em;    overflow: auto;    font-weight: normal;}kbd {    font-size: 1.1em;    padding: 0.1em 0.6em;    border: 1px solid #ccc;    font-family: monospace;    background-color: #f7f7f7;    color: #333;    -moz-box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    -webkit-box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    -moz-border-radius: 3px;    -webkit-border-radius: 3px;    border-radius: 3px;    display: inline-block;    margin: 0 0.1em;    text-shadow: 0 1px 0 #fff;    white-space: nowrap;}h1, h2, h3, h4, h5, h6 {    font-family: Calibri, "Gill Sans", "Gill Sans MT", "Myriad Pro", Myriad, "DejaVu Sans", Tahoma, Geneva, Helvetica, Arial, sans-serif;    margin-bottom: 0;}h1 {    font-size: 2.5em;    text-align: center;    border-bottom: 6px solid black;}h2 {    font-size: 2.0em;    text-align: left;    border-bottom: 2px solid black;}h3 {    font-size: 1.6em;    text-align: left;    border-bottom: 1px solid lightgrey;}h4 {    font-size: 1.5em;    text-align: left;}h5 {    font-size: 1.3em;    text-align: left;}ul, ol {    padding-left: 2em;}ul li {    list-style-type: square;}ul li li {    list-style-type: disc;}ul li li li {    list-style-type: circle;}ol li {    list-style-type: decimal;}p, para, b, strong, i, em, emph {    font-size: 1em;}blockquote {    font-size: 1.2em;    font-style: italic;    margin-left: 2em;}b, strong {    font-weight: bold;}i, em, emph {    font-style: italic;}table {    margin: 0.5em;    border-spacing: 0;    border-collapse: collapse;}th, td {    border: 1px solid lightgray;    padding-top: 0;    padding-bottom: 0;    padding-left: 0.45em;    padding-right: 0.45em;}.text-right {    text-align: right;}.text-small {    font-size: small;}.text-x-small {    font-size: x-small;}.banner {    display: block;    width: 100%;    margin-left: auto;    margin-right: auto;}.footer {    text-align: right;    float: right;    max-width: 18em;}.cc {    border-width: 0}.center {    text-align: center;}</style><style media="all" type="text/css">/* Ewan Themes -- based 99.99% from Tomorrow Night Theme *//* http://jmblog.github.com/color-themes-for-google-code-highlightjs *//* Original theme - https://github.com/chriskempson/tomorrow-theme *//* http://jmblog.github.com/color-themes-for-google-code-highlightjs *//* Tomorrow Comment */.hljs-comment {  color: #969896;}/* Tomorrow Red */.hljs-variable,.hljs-attribute,.hljs-tag,.hljs-regexp,.ruby .hljs-constant,.xml .hljs-tag .hljs-title,.xml .hljs-pi,.xml .hljs-doctype,.html .hljs-doctype,.css .hljs-id,.css .hljs-class,.css .hljs-pseudo {  color: #cc6666;}/* Tomorrow Orange */.hljs-number,.hljs-preprocessor,.hljs-pragma,.hljs-built_in,.hljs-literal,.hljs-params,.hljs-constant {  color: #de935f;}/* Tomorrow Yellow */.ruby .hljs-class .hljs-title,.css .hljs-rule .hljs-attribute {  color: #f0c674;}/* Tomorrow Green */.hljs-string,.hljs-value,.hljs-inheritance,.hljs-header,.hljs-name,.ruby .hljs-symbol,.xml .hljs-cdata {  color: #b5bd68;}/* Tomorrow Aqua */.hljs-title,.css .hljs-hexcolor {  color: #8abeb7;}/* Tomorrow Blue */.hljs-function,.python .hljs-decorator,.python .hljs-title,.ruby .hljs-function .hljs-title,.ruby .hljs-title .hljs-keyword,.perl .hljs-sub,.javascript .hljs-title,.coffeescript .hljs-title {  color: #81a2be;}/* Tomorrow Purple */.hljs-keyword,.javascript .hljs-function {  color: #b294bb;}.hljs {  display: block;  overflow-x: auto;  background: #1d1f21;  color: #c5c8c6;  padding: 0.5em;  -webkit-text-size-adjust: none;}.coffeescript .javascript,.javascript .xml,.tex .hljs-formula,.xml .javascript,.xml .vbscript,.xml .css,.xml .hljs-cdata {  opacity: 0.5;}pre code {    font-size: 1.1em;    font-family: monospace;    line-height: 1.3em;    overflow: auto;}</style></head><body><div id="content"><h1>Zsh Tips 1: Aliases and Functions</h1><p><div class="center"><a href='/eo/zisxkonsiletoj-1-a'>Esperanto</a> · <a href='#'>English</a></div> <div class="center">October 18, 2017</div> <div class="center">Last updated: Septembro 26, 2018</div></p><blockquote><p>A common man marvels at uncommon things; a wise man marvels at the commonplace.<br> ―Confucius </p></blockquote><p>One of the joys of working exclusively on the terminal is makes it so easy to work with commands, files, and directories. Being able to go from idea to results happens in a very short span of time. For interactive shell use, I use <a href='http://zsh.sourceforge.net/'>Zsh</a> almost exclusively. In this article, I’ll talk about some things to improve your interactive interaction with the shell.</p><h2><a name="toc">Table of contents</a></h2><ul><li><a href='#overview'>Overview</a></li><li><a href='#aliases'>Aliases</a></li><li><a href='#functions'>Functions</a></li><li><a href='#all'>Putting them all together</a></li><li><a href='#closing'>Closing remarks</a></li></ul><h2><a name="overview">Overview</a></h2><p>There are at least three kinds of commands in Zsh: binaries, aliases, and functions. Binaries are the ones that are found in your <code>$PATH</code>; they are the programs that you installed using your package manager. Aliases and functions, or other other hand do not live as files on the filesystem. They are defined as part of your configuration file, or inlined in your session.</p><h2><a name="aliases">Aliases</a></h2><p>Aliases are those cute stupid things that you put in your config files that usually do trivial one liners. Some of them look like the following:</p><pre><code>alias ls=&quot;ls -F&quot;</code></pre><p>Other are more aggressive like the global aliases, which can perform expansion anywhere on the command line:</p><pre><code>alias -g G=&quot;|&amp; egrep --color&quot;
alias -g NF='&#42;&#40;.om&#91;1&#93;&#41;'</code></pre><p>The first global alias filters the stdout and stderr to egrep with colored output. The second global alias matches the newest regular file in the current directory.</p><p>To display all your aliases, run:</p><pre><code>alias</code></pre><h2><a name="functions">Functions</a></h2><p>Functions on the other hand are the bigger relatives of aliases. They can do more than what their lesser ilk, can. One of the most important differences to note is that functions perform more that substitution. For example, an alias like the following:</p><pre><code>alias meh=&quot;echo foo&quot;</code></pre><p>simply performs text substitution. That is, when Zsh encounters the text <code>foo</code> as the first token of the command line, it replaces it with <code>echo foo</code>. Nothing more. So, running:</p><pre><code>meh foo</code></pre><p>substitutes to</p><pre><code>echo foo</code></pre><p>Compare the following lines:</p><pre><code>alias foo0=&quot;for x in foo bar baz; do echo $x; done&quot;
function foo1 &#40;&#41; { for x in foo bar baz; do echo $x; done }</code></pre><p>The keyword <code>function</code> is redundant and may be omitted. Run them and see what happens:</p><pre><code>% foo0
% foo1</code></pre><p>Aliases have a higher priority than functions. Consider the following lines:</p><pre><code>alias foo=&quot;echo foo&quot;
function foo &#40;&#41; { echo foo, too }</code></pre><p>Both use the name <code>foo</code>, but each uses a different namespace. When you execute <code>foo</code>:</p><pre><code>% foo
foo</code></pre><p>It displays just <code>foo</code> because, instead of <code>foo, too</code> even if the latter came from a more recent definition. To remove the <code>foo</code> alias definition, run:</p><pre><code>% unalias foo
% foo
foo, too</code></pre><p>As much as possible, use functions.</p><p>To display all your functions, run:</p><pre><code>% functions</code></pre><h2><a name="all">Putting them all together</a></h2><p>Littering your config file with complete function definitions for every little command that you want is dumb. Instead, we’ll use a better way to define global aliases and small functions. Open your <code>&#126;/.zshenv</code> file using your favorite editor.</p><p>First let’s define the functions that will define the others.</p><pre><code class="bash">function def&#95;real&#95;alias &#40;&#41; {
  while &#91;&#91; $# -ge 2 &#93;&#93;; do
    alias &quot;$1=$2&quot;
    shift 2
  done
}

function def&#95;real&#95;aliases &#40;&#41; {
  def&#95;real&#95;alias $real&#95;aliases
  unset real&#95;aliases
}

function def&#95;global&#95;alias &#40;&#41; {
  while &#91;&#91; $# -ge 2 &#93;&#93;; do
    alias -g &quot;$1=$2&quot;
    shift 2
  done
}

function def&#95;global&#95;aliases &#40;&#41; {
  def&#95;global&#95;alias $global&#95;aliases
  unset global&#95;aliases
}

function def&#95;fun &#40;&#41; {
  while &#91;&#91; $# -ge 2 &#93;&#93;; do
    eval &quot;function $1 &#40;&#41; { $2 \$@ }&quot;
    shift 2
  done
}

function def&#95;funs &#40;&#41; {
  def&#95;fun $funs
  unset funs
}
</code></pre><p>Next we’ll define the arrays:</p><pre><code class="bash">real&#95;aliases=&#40;
  meh &quot;echo meh&quot;
&#41;; def&#95;real&#95;aliases

global&#95;aliases=&#40;
  :: ':&gt;!'

  B '`git rev-parse --abbrev-ref HEAD`'

  V &quot;|&amp; less&quot;
  G &quot;|&amp; egrep --color&quot;
  S &quot;|&amp; sort&quot;
  R &quot;|&amp; sort -rn&quot;
  L &quot;|&amp; wc -l | sed 's/&#94;\ &#42;//'&quot;

  H  &quot;|&amp; head&quot;
  T  &quot;|&amp; tail&quot;
  H1 &quot;H -n 1&quot;
  T1 &quot;T -n 1&quot;

  ZF '&#42;&#40;.L0&#41;'     # zero-length regular files
  ZD '&#42;&#40;/L0&#41;'     # zero-length directories

  AE '{,.}&#42;'      # all files, including dot files
  AF '&#42;&#42;/&#42;&#40;.&#41;'    # all regular files
  AD '&#42;&#42;/&#42;&#40;/&#41;'    # all directories
  AS '&#42;&#42;/&#42;&#40;@&#41;'    # all symlinks

  OF '&#42;&#40;.om&#91;-1&#93;&#41;' # oldest regular file
  OD '&#42;&#40;/om&#91;-1&#93;&#41;' # oldest directory
  OS '&#42;&#40;@om&#91;-1&#93;&#41;' # oldest symlink

  NF '&#42;&#40;.om&#91;1&#93;&#41;'  # newest regular file
  ND '&#42;&#40;/om&#91;1&#93;&#41;'  # newest directory
  NS '&#42;&#40;@om&#91;1&#93;&#41;'  # newest symlink

&#41;; def&#95;global&#95;aliases

funs=&#40;
  z &quot;exec zsh&quot;
  s &quot;sudo&quot;

  d &quot;pushd&quot;
  \- &quot;popd&quot;
  ds &quot;dirs -l&quot;

  cp &quot;command cp -i&quot;
  mv &quot;command mv -i&quot;

  l &quot;ls -GFAtr --color&quot;
  la &quot;ls -AF --color&quot;
  ll &quot;l -l
  l1 &quot;l -1&quot;
  lh &quot;l -H&quot;
  lr &quot;l -R&quot;
  lk &quot;la -l&quot;

  sl &quot;ln -sf&quot;
  md &quot;mkdir -p&quot;

  f &quot;fd&quot;
  g &quot;ripgrep --color auto&quot;
  gi &quot;g -i&quot;
  tf &quot;tail -F&quot;
  rh &quot;rehash&quot;

  mount &quot;s mount&quot;
  umount &quot;s umount&quot;
  reboot &quot;s reboot&quot;
  poweroff &quot;s poweroff&quot;
  halt &quot;s halt -p&quot;
&#41;; def&#95;funs
</code></pre><h2><a name="closing">Closing remarks</a></h2><p>Grouping commands this way makes it significantly easier to add and remove items. Bring them all in one consolidated place also makes your config file arguably cleaner. For the rest of the definitions, visit the repo <a href='https://github.com/ebzzry/dotfiles/tree/master/zsh'>here</a>.</p><hr/><div class="footer"><p><div class="text-small"> <a href='/en'>Home</a> · <a href='/en/about'>About</a> · <a href='/en/quotes'>Quotes</a> · <a href='/en/reflections'>Reflections</a> · <a href='https://github.com/ebzzry/ebzzry.github.io'>Source</a> </div> <div class="text-x-small"> Created with <a href='https://github.com/ebzzry/emem'>emem</a> <div></p><p><div class="text-x-small"> <a rel="license" href="https://creativecommons.org/publicdomain/zero/1.0/deed.en"><img alt="CC0 1.0 Universal (CC0 1.0) Public Domain Dedication" class="cc" src="/bil/cc0-88x31.png" /></a><br> This work is in the <a rel="license" href="https://creativecommons.org/publicdomain/zero/1.0/deed.en">public domain.</a><br> </div></p><p></div></p></div><script src="/static/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create', 'UA-93746003-1', 'auto');ga('send', 'pageview');</script></body></html>