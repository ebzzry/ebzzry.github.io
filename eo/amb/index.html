<!DOCTYPE html>
<html lang="eo"><head><title>Milda Enkonduko al Nedeterminismo en Skimo</title><meta charset="utf-8" /><meta content="width=device-width,initial-scale=1.0,user-scalable=yes" name="viewport" /><meta content="noodp,noydir" name="robots" /><link rel='apple-touch-icon' sizes='180x180' href='/images/ico/apple-touch-icon.png'><link rel='icon' type='image/png' sizes='32x32' href='/images/ico/favicon-32x32.png'><link rel='icon' type='image/png' sizes='16x16' href='/images/ico/favicon-16x16.png'><link rel='manifest' href='/images/ico/site.webmanifest'><link rel='mask-icon' href='/images/ico/safari-pinned-tab.svg' color='#5bbad5'><link rel='shortcut icon' href='/images/ico/favicon.ico'> <meta name='msapplication-TileColor' content='#da532c'> <meta name='msapplication-config' content='/images/ico/browserconfig.xml'> <meta name='theme-color' content='#ffffff'><meta content="Milda Enkonduko al Nedeterminismo en Skimo" name="description" /><meta content="nedeterminismo, skimo, lispo, aktuala daÅ­rigo, daÅ­rigo, call/cc, amb, elektoj" name="keywords" /><meta content="Milda Enkonduko al Nedeterminismo en Skimo" property="og:title" /><meta content="article" property="og:type" /><meta content="https://ebzzry.com/eo/amb/" property="og:url" /><meta content="https://ebzzry.com/images/site/wallhaven-333472-1008x250.jpg" property="og:image" /><style media="all" type="text/css">html {    color: #333;    font-size: 1em;    font-family: Georgia, Cambria, Palatino, "Palatino Linotype", "Times New Roman", Times, serif;    line-height: 1.45;    text-align: left:    width: 100%;    max-width: 40em;    margin: 0 auto 0 auto;    padding: 0;}body {    border-top: hidden;    border-bottom: hidden;    padding: 0 1.5em 1em 1.5em;    margin: 0;}#content {    -webkit-column-count: 1;    -moz-column-count: 1;    column-count: 1;}code {    font-size: 0.9em;    font-family: "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Lucida Console", "Courier New", Courier, monospace;    color: black;    display: inline-block;}pre code {    font-size: 1em;    font-family: monospace;    line-height: 1.3em;    overflow: auto;    font-weight: normal;}kbd {    font-size: 1.1em;    padding: 0.1em 0.6em;    border: 1px solid #ccc;    font-family: monospace;    background-color: #f7f7f7;    color: #333;    -moz-box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    -webkit-box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    -moz-border-radius: 3px;    -webkit-border-radius: 3px;    border-radius: 3px;    display: inline-block;    margin: 0 0.1em;    text-shadow: 0 1px 0 #fff;    white-space: nowrap;}h1, h2, h3, h4, h5, h6 {    font-family: Calibri, "Gill Sans", "Gill Sans MT", "Myriad Pro", Myriad, "DejaVu Sans", Tahoma, Geneva, Helvetica, Arial, sans-serif;    margin-bottom: 0;}h1 {    font-size: 2.5em;    text-align: center;    border-bottom: 6px solid black;}h2 {    font-size: 2.0em;    text-align: left;    border-bottom: 2px solid black;}h3 {    font-size: 1.6em;    text-align: left;    border-bottom: 1px solid lightgrey;}h4 {    font-size: 1.5em;    text-align: left;}h5 {    font-size: 1.3em;    text-align: left;}ul, ol {    padding-left: 2em;}ul li {    list-style-type: square;}ul li li {    list-style-type: disc;}ul li li li {    list-style-type: circle;}ol li {    list-style-type: decimal;}p, para, b, strong, i, em, emph {    font-size: 1em;}blockquote {    font-size: 1.2em;    font-style: italic;    margin-left: 2em;}b, strong {    font-weight: bold;}i, em, emph {    font-style: italic;}table {    margin: 0.5em;    border-spacing: 0;    border-collapse: collapse;}th, td {    border: 1px solid lightgray;    padding-top: 0;    padding-bottom: 0;    padding-left: 0.45em;    padding-right: 0.45em;}.text-right {    text-align: right;}.text-small {    font-size: small;}.text-x-small {    font-size: x-small;}.banner {    display: block;    width: 100%;    margin-left: auto;    margin-right: auto;}.footer {    text-align: right;    float: right;    max-width: 18em;}.cc {    border-width: 0}.center {    text-align: center;}</style><style media="all" type="text/css">/* Ewan Themes -- based 99.99% from Tomorrow Night Theme *//* http://jmblog.github.com/color-themes-for-google-code-highlightjs *//* Original theme - https://github.com/chriskempson/tomorrow-theme *//* http://jmblog.github.com/color-themes-for-google-code-highlightjs *//* Tomorrow Comment */.hljs-comment {  color: #969896;}/* Tomorrow Red */.hljs-variable,.hljs-attribute,.hljs-tag,.hljs-regexp,.ruby .hljs-constant,.xml .hljs-tag .hljs-title,.xml .hljs-pi,.xml .hljs-doctype,.html .hljs-doctype,.css .hljs-id,.css .hljs-class,.css .hljs-pseudo {  color: #cc6666;}/* Tomorrow Orange */.hljs-number,.hljs-preprocessor,.hljs-pragma,.hljs-built_in,.hljs-literal,.hljs-params,.hljs-constant {  color: #de935f;}/* Tomorrow Yellow */.ruby .hljs-class .hljs-title,.css .hljs-rule .hljs-attribute {  color: #f0c674;}/* Tomorrow Green */.hljs-string,.hljs-value,.hljs-inheritance,.hljs-header,.hljs-name,.ruby .hljs-symbol,.xml .hljs-cdata {  color: #b5bd68;}/* Tomorrow Aqua */.hljs-title,.css .hljs-hexcolor {  color: #8abeb7;}/* Tomorrow Blue */.hljs-function,.python .hljs-decorator,.python .hljs-title,.ruby .hljs-function .hljs-title,.ruby .hljs-title .hljs-keyword,.perl .hljs-sub,.javascript .hljs-title,.coffeescript .hljs-title {  color: #81a2be;}/* Tomorrow Purple */.hljs-keyword,.javascript .hljs-function {  color: #b294bb;}.hljs {  display: block;  overflow-x: auto;  background: #1d1f21;  color: #c5c8c6;  padding: 0.5em;  -webkit-text-size-adjust: none;}.coffeescript .javascript,.javascript .xml,.tex .hljs-formula,.xml .javascript,.xml .vbscript,.xml .css,.xml .hljs-cdata {  opacity: 0.5;}pre code {    font-size: 1.1em;    font-family: monospace;    line-height: 1.3em;    overflow: auto;}</style></head><body><div id="content"><h1>Milda Enkonduko al Nedeterminismo en Skimo</h1><p><div class="center"><a href='/en/amb/'>English</a> âˆ… Esperanto</div> <div class="center">2019-03-07 19:31:31 +0800</div></p><blockquote><p>Kelke da plej kernaj paÅoj en mensa kresko baziÄas ne simple pri novajn kapablojn akiri, sed pri novajn administrajn manierojn akiri por tion uzi, kion oni jam scias.<br> â€”Marvin MINSKY </p></blockquote><p><img src="/images/site/wallhaven-333472-1008x250.jpg" style="display: block; width: 100%; margin-left: auto; margin-right: auto;" alt="wallhaven-333472" title="wallhaven-333472"/></p><h2><a name="et">Enhavotabelo</a></h2><ul><li><a href='#enkonduko'>Enkonduko</a></li><li><a href='#aktualadaÅ­rigo'>La aktuala daÅ­rigo</a><ul><li><a href='#aktualadaÅ­rigoekzemploj'>Ekzemploj</a></li></ul></li><li><a href='#callcc'>La call/cc-operatoro</a><ul><li><a href='#callcckaptado'>Kaptado</a></li><li><a href='#callccaplikado'>Aplikado</a></li><li><a href='#callcceskapado'>Eskapado</a></li><li><a href='#callccekzemploj'>Ekzemploj</a></li></ul></li><li><a href='#amb'>La amb-operatoro</a><ul><li><a href='#ambdifino'>Difino</a></li><li><a href='#ambmalkonstruado'>Malkonstruado</a></li><li><a href='#ambtaksado'>Taksado</a></li></ul></li><li><a href='#finrimarkoj'>Finrimarkoj</a></li></ul><h2><a name="enkonduko">Enkonduko</a></h2><p><a href='http://vortaro.net/#nedeterminisma'>Nedeterminisma</a> programado estas tekniko en kiu la fluo de algoritmo ne linearas; kaj ekzistas pluraj eblaj daÅ­rigoj. La konduto de komputo ankaÅ­ povas ÅanÄiÄi per la samaj enigoj. Ekzistas multaj metodoj por nedeterminismon atingi. En Ä‰i tiu artikolo la metodo kiun mi uzos estas retroiÄado.</p><p>Kaj cetere, la programlingvon <a href='https://eo.wikipedia.org/wiki/Scheme'>skimo</a> mi uzos por tion atingi. En skimo, oni permesatas por facile iri al antaÅ­a tempo de komputo kaj reen facile.</p><p>Mi ankaÅ­ diskutos pri la postulaj temoj por ke nedeterminismo en skimo oni pli facile komprenu.</p><h2><a name="aktualadaÅ­rigo">La aktuala daÅ­rigo</a></h2><p>En skimo, la aktuala daÅ­rigo aÅ­ la restanta komputo estas la restanta laboro por la ceteron de la komputo taksi.</p><p>En la esprimo</p><pre><code class="scheme">0
</code></pre><p>la aktuala daÅ­rigoâ€”la restanta komputoâ€”estas</p><pre><code class="scheme">&#40;lambda &#40;v&#41; v&#41;
</code></pre><p>kaj la restanta operacio estas</p><pre><code class="scheme">&#40;&#40;lambda &#40;v&#41; v&#41; 0&#41;
</code></pre><p>kiu liveras na</p><pre><code class="scheme">0
</code></pre><p>Tio estas la rezulto tial, ke la restanta komputo en tiu niveloâ€”la plej supra niveloâ€”estas la identa funkcio.</p><p>Memoru, ke la nomo de la argumento de la lambdo ne gravas. Äœi povas esti <code>v</code>, <code>x</code>, aÅ­ <code>hundo-kato-muso</code>:</p><pre><code class="scheme">&#40;&#40;lambda &#40;hundo-kato-muso&#41; hundo-kato-muso&#41; 0&#41;
</code></pre><h3><a name="aktualadaÅ­rigoekzemploj">Ekzemploj</a></h3><p>En la esprimo</p><pre><code class="scheme">&#40;&#42; 1 2&#41;
</code></pre><p>la restanta komputo por <code>2</code>â€”la dua argumento de <code>&#42;</code>â€”estas</p><pre><code class="scheme">&#40;lambda &#40;v&#41; &#40;&#42; 1 v&#41;&#41;
</code></pre><p>kaj la restanta operacio estas</p><pre><code class="scheme">&#40;&#40;lambda &#40;v&#41; &#40;&#42; 1 v&#41;&#41; 2&#41;
</code></pre><p>kiu, en tiu nivelo de komputo liveras</p><pre><code class="scheme">2
</code></pre><p>Konsekvece, la restanta komputo estas</p><pre><code class="scheme">&#40;lambda &#40;v&#41; v&#41;
</code></pre><p>kaj la restanta operacio estas</p><pre><code class="scheme">&#40;&#40;lambda &#40;v&#41; v&#41; 2&#41;
</code></pre><p>kiu fine liveras, Ä‰e la plej supra nivelo:</p><pre><code class="scheme">2
</code></pre><p>En la esprimo</p><pre><code class="scheme">&#40;+ &#40;&#42; 1 2&#41; 3&#41;
</code></pre><p>la fluo de la komputo estas</p><pre><code class="scheme">   &#40;&#42; 1 2&#41;
&#40;+ Â Â Â Â Â Â Â  3&#41;
</code></pre><p>Unue <code>&#40;&#42;Â 1Â 2&#41;</code> taksiÄos tiam la rezulto fariÄas la unua argumento por <code>&#40;+Â Â Â 3&#41;</code>. En tiu malplena spaco, la restanta komputoestas</p><pre><code class="scheme">&#40;lambda &#40;v&#41; &#40;+ v 3&#41;&#41;
</code></pre><p>kaj la restanta operacio estas</p><pre><code class="scheme">&#40;&#40;lambda &#40;v&#41; &#40;+ v 3&#41;&#41; &#40;&#42; 1 2&#41;&#41;
</code></pre><h2><a name="callcc">La call/cc-operatoro</a></h2><p>En skimo, la aktualan daÅ­rigonâ€”la restantan komputonâ€”oni povas kapti kiel variablo. Tion oni povas fari per <a href='https://scheme.com/tspl4/further.html#./further:h3'>call/cc</a>. Äœi estas operatoro, kiu nur unu argumenton ekskluzive akceptasâ€”<a href='/eo/lambdokalkulo/'>lambdon</a>â€”sennoman funcion, kun unu argumento:</p><pre><code class="scheme">&#40;call/cc &#40;lambda &#40;k&#41; k&#41;&#41;
</code></pre><p>Se je <code>call/cc</code> oni ne havas, Äin difinu per:</p><pre><code class="scheme">&#40;define call/cc call-with-current-continuation&#41;
</code></pre><p>En la angla, Äi signifas <i>vokuÂ funkcionÂ kunÂ laÂ aktualaÂ daÅ­rigo</i>. Tiun nomon oni ankaÅ­ povas trakti kiel <i>vokuÂ funkcionÂ kunÂ laÂ restanta komputo</i>. La funkcio, kiun Äi vokas estas la lambdo. Kaj cetere, la aktualan daÅ­rigonâ€”la restantan komputonâ€”<code>call/cc</code> pasas al tiu sennoma funkcio.</p><p>En Ä‰i tiu lambdo:</p><pre><code class="scheme">&#40;lambda &#40;k&#41; k&#41;
</code></pre><p><code>k</code> estas funkcio mem kiu unu argumenton akceptas. Do, en</p><pre><code class="scheme">&#40;call/cc &#40;lambda &#40;k&#41; k&#41;&#41;
</code></pre><p>la aktualan daÅ­rigonâ€”simple la funkcionâ€”<code>call/cc</code> liveras. Tamen, en</p><pre><code class="scheme">&#40;call/cc &#40;lambda &#40;k&#41; &#40;k 0&#41;&#41;&#41;
</code></pre><p><code>call/cc</code> simple liveras je <code>0</code> tial, ke en tiu niveloâ€”la plej supra niveloâ€”<code>k</code> estas:</p><pre><code class="scheme">&#40;lambda &#40;v&#41; v&#41;
</code></pre><p>â€”la identa funkcio. Pro tio, la voko:</p><pre><code class="scheme">&#40;call/cc &#40;lambda &#40;k&#41; &#40;k 0&#41;&#41;&#41;
</code></pre><p>funkcie ekvivalentas al:</p><pre><code class="scheme">&#40;&#40;lambda &#40;v&#41; v&#41; 0&#41;
</code></pre><h3><a name="callcckaptado">Kaptado</a></h3><p>Reirante al la antaÅ­a ekzemplo:</p><pre><code class="scheme">&#40;+ &#40;&#42; 1 2&#41; 3&#41;
</code></pre><p>la aktualan daÅ­rigon de <code>&#40;&#42;Â 1Â 2&#41;</code> oni povas kapti per <code>call/cc</code>:</p><pre><code class="scheme">&#40;+ &#40;call/cc &#40;lambda &#40;k&#41; &#40;&#42; 1 2&#41;&#41;&#41; 3&#41;
</code></pre><p>Tamen, oni povas rimarki ke la funckion <code>k</code> oni ne aplikis al io ajn. La esprimo <code>&#40;&#42;Â 1Â 2&#41;</code> taksiÄos, kaj la rezulto iras al <code>&#40;+Â &#95;Â 3&#41;</code>. Alidire, tiu esprimo funkcie ekvivalentas al:</p><pre><code class="scheme">&#40;+ &#40;&#42; 1 2&#41; 3&#41;
</code></pre><h3><a name="callccaplikado">Aplikado</a></h3><p>La saman ekzemplon uzante, Ä‰i tie la funkcion <code>k</code> oni apliku:</p><pre><code class="scheme">&#40;+ &#40;call/cc &#40;lambda &#40;k&#41; &#40;k &#40;&#42; 1 2&#41;&#41;&#41;&#41; 3&#41;
</code></pre><p>Ene la voko de <code>call/cc</code>:</p><pre><code class="scheme">            &#40;lambda &#40;k&#41; &#40;k &#40;&#42; 1 2&#41;&#41;&#41;
</code></pre><p>la variablo <code>k</code> estas la aktuala daÅ­rigoâ€”la restanta komputo. Kio estas la restanta komputo? Jen:</p><pre><code class="scheme">&#40;+                                    3&#41;
</code></pre><p>â€”la adicio al <code>3</code>. Por ke tiun komputon reprezentu kiel funkcio, Äi fariÄos:</p><pre><code class="scheme">&#40;lambda &#40;v&#41; &#40;+ v 3&#41;&#41;
</code></pre><p>En kie <code>&#40;+Â &#95;Â 3&#41;</code> estos reprezentata per Ä‰i tiu lambdo.</p><p>Do, la rolo de <code>call/cc</code> estas por lambdon voki, kiun la restanta komputo akceptas. Äˆi tie, la restanta komputo nomiÄas <code>k</code>. Pro tio, la konsekveco de:</p><pre><code class="scheme">&#40;+ &#40;call/cc &#40;lambda &#40;k&#41; &#40;k &#40;&#42; 1 2&#41;&#41;&#41;&#41; 3&#41;
</code></pre><p>funkcie ekvivalentas al</p><pre><code class="scheme">&#40;&#40;lambda &#40;v&#41; &#40;+ v 3&#41;&#41; &#40;&#42; 1 2&#41;&#41;
</code></pre><h3><a name="callcceskapado">Eskapado</a></h3><p>En</p><pre><code class="scheme">&#40;define z #f&#41;
&#40;+ &#40;call/cc &#40;lambda &#40;k&#41; &#40;set! z k&#41; &#40;&#42; 1 2&#41;&#41;&#41; 3&#41;
</code></pre><p>normale la rezulto estos</p><pre><code class="scheme">5
</code></pre><p>tamen pro tio, ke la aktualan daÅ­rigonâ€”<code>k</code>â€”ni konservis en <code>z</code>, al tiu konservita loko oni povas reiri per:</p><pre><code class="scheme">&#40;z 1&#41;
</code></pre><p>kiu liveras na</p><pre><code class="scheme">4
</code></pre><p>â€”alian valoron. Tiu meÄ¥anismo donas al oni la kapablon por la komputon eskapi, Ä‰u kun nova valoro, aÅ­ malnova valaro, aÅ­ nenio.</p><p>Pro tio, ke la aktuala daÅ­rigo estas:</p><pre><code class="scheme">&#40;lambda &#40;v&#41; &#40;+ v 3&#41;&#41;
</code></pre><p>la voko</p><pre><code class="scheme">&#40;z 1&#41;
</code></pre><p>funkcie ekvivalentas al</p><pre><code class="scheme">&#40;&#40;lambda &#40;v&#41; &#40;+ v 3&#41;&#41; 1&#41;
</code></pre><p>anstataÅ­</p><pre><code class="scheme">&#40;&#40;lambda &#40;v&#41; &#40;+ v 3&#41;&#41; &#40;&#42; 1 2&#41;&#41;
</code></pre><h3><a name="callccekzemploj">Ekzemploj</a></h3><p>En</p><pre><code class="scheme">&#40;let &#40;&#40;x &#40;call/cc &#40;lambda &#40;k&#41; k&#41;&#41;&#41;&#41; &#40;x &#40;lambda &#40;o&#41; &quot;saluton&quot;&#41;&#41;&#41;
</code></pre><p>la voko</p><pre><code class="scheme">&#40;x &#40;lambda &#40;o&#41; &quot;saluton&quot;&#41;&#41;
</code></pre><p>fariÄas</p><pre><code class="scheme">&#40;&#40;call/cc &#40;lambda &#40;k&#41; k&#41;&#41; &#40;lambda &#40;o&#41; &quot;saluton&quot;&#41;&#41;
</code></pre><p>tie, la restanta komputo estas</p><pre><code class="scheme">&#40;lambda &#40;o&#41; &quot;saluton&quot;&#41;
</code></pre><p>kiu iras al la variablo <code>k</code> en la korpo de <code>call/cc</code>. Kiel antaÅ­e, je <code>k</code> oni apliku al <code>&#40;lambdaÂ &#40;o&#41;Â &quot;saluton&quot;&#41;</code> ene alia lambdo:</p><pre><code class="scheme">&#40;&#40;lambda &#40;v&#41; &#40;v &#40;lambda &#40;o&#41; &quot;saluton&quot;&#41;&#41;&#41; &#40;lambda &#40;o&#41; &quot;saluton&quot;&#41;&#41;
</code></pre><p>kiu liveras na</p><pre><code class="scheme">&quot;saluton&quot;
</code></pre><p>En</p><pre><code class="scheme">&#40;&#40;&#40;call/cc &#40;lambda &#40;k&#41; k&#41;&#41; &#40;lambda &#40;x&#41; x&#41;&#41; &quot;saluton&quot;&#41;
</code></pre><p>la kerno estas</p><pre><code class="scheme">&#40;&#40;call/cc &#40;lambda &#40;k&#41; k&#41;&#41; &#40;lambda &#40;x&#41; x&#41;&#41;
</code></pre><p>Ene la korpo de <code>call/cc</code>, la restanta komputo estas</p><pre><code class="scheme">&#40;lambda &#40;x&#41; x&#41;
</code></pre><p>kiu iras al la variablo <code>k</code> en la korpo de <code>call/cc</code>. Kiel antaÅ­e denove, Äin oni apliku al la lambdo:</p><pre><code class="scheme">&#40;&#40;lambda &#40;v&#41; &#40;v &#40;lambda &#40;x&#41; x&#41;&#41;&#41; &#40;lambda &#40;x&#41; x&#41;&#41;
</code></pre><p>kiu liveras na</p><pre><code class="scheme">#&lt;procedure x&gt;
</code></pre><p>Tio signifas, ke Ä‰i tiun funkcion oni nun povas apliki al la cetera argumento:</p><pre><code class="scheme">&#40;&#40;&#40;lambda &#40;v&#41; &#40;v &#40;lambda &#40;x&#41; x&#41;&#41;&#41; &#40;lambda &#40;x&#41; x&#41;&#41; &quot;saluton&quot;&#41;
</code></pre><p>kiu liveras na</p><pre><code class="scheme">&quot;saluton&quot;
</code></pre><h2><a name="amb">La amb-operatoro</a></h2><p>Unu el la uzoj de la fama amb-operatoro en skimo estas por nedeterminisman programadon realigi per retroiÄado. Pere de tiu meÄ¥anismo, la komputo povas iri al antaÅ­a stato; valorojn porti; Åtatojn ÅanÄi; komputon eskapi; kaj pli.</p><p>En Ä‰i tiu artikolo la amb-operatoron oni uzos por la retroiÄadan meÄ¥anismon ebligi.</p><h3><a name="ambdifino">Difino</a></h3><p>La difino kiun oni uzos estas el shido.info/lisp. Äœi estas makroo por certigi, ke la argumentoj ne taksiÄos. Krome, listojn Äi interne uzas.</p><pre><code class="scheme">&#40;define call/cc call-with-current-continuation&#41; ;  1
                                                ;  2
&#40;define f #f&#41;                                   ;  3
                                                ;  4
&#40;define-syntax amb                              ;  5
  &#40;syntax-rules &#40;&#41;                              ;  6
    &#40;&#40;&#95;&#41; &#40;f&#41;&#41;                                   ;  7
    &#40;&#40;&#95; a&#41; a&#41;                                   ;  8
    &#40;&#40;&#95; a b ...&#41;                                ;  9
     &#40;let &#40;&#40;s f&#41;&#41;                               ; 10
       &#40;call/cc                                 ; 11
        &#40;lambda &#40;k&#41;                             ; 12
          &#40;set! f &#40;lambda &#40;&#41;                    ; 13
                    &#40;set! f s&#41;                  ; 14
                    &#40;k &#40;amb b ...&#41;&#41;&#41;&#41;           ; 15
          &#40;k a&#41;&#41;&#41;&#41;&#41;&#41;&#41;                           ; 16
                                                ; 17
&#40;define &#40;cxu-vere? x y&#41;                         ; 18
  &#40;if &#40;equal? x y&#41;                              ; 19
      &#40;list x y&#41;                                ; 20
      &#40;amb&#41;&#41;&#41;                                   ; 21
                                                ; 22
&#40;call/cc                                        ; 23
 &#40;lambda &#40;k&#41;                                    ; 24
   &#40;set! f &#40;lambda &#40;&#41;                           ; 25
             &#40;k 'neniuj-elektoj&#41;&#41;&#41;&#41;&#41;            ; 26
</code></pre><p>Äˆi tiuj difinoj funkcias Ä‰e <a href='https://www.gnu.org/software/mit-scheme/'>MIT/GNU-skimo</a>, <a href='https://www.gnu.org/software/guile/'>Guile</a>, <a href='http://s48.org/'>Scheme48</a>, <a href='https://scsh.net/'>Scsh</a>, <a href='http://synthcode.com/wiki/chibi-scheme'>chibi-scheme</a>, <a href='https://cons.io/'>Gerbil</a>, <a href='https://www.scheme.com/'>Chez-skimo</a>, <a href='http://call-cc.org/'>Chicken</a>, <a href='https://www-sop.inria.fr/indes/fp/Bigloo/'>Bigloo</a>, <a href='https://practical-scheme.net/gauche/memo.html'>Gauche</a>, kaj <a href='https://racket-lang.org/'>Rakido</a>.</p><h3><a name="ambmalkonstruado">Malkonstruado</a></h3><p>En Ä‰i tiu sekcio, la difinon de la amb-operatoro kaj aliaj funkcioj oni malkonstruu. La funkcio <code>cxu-vere?</code> teknike ne estas parto de la difino, tamen Äin oni uzos por la funkciadon de <code>amb</code> montru.</p><p>Jen la malprofundaj paÅoj de la difinoj:</p><ol><li>En linio 1-a <code>call/cc</code> bindiÄas al <code>call-with-current-continuation</code> precipe por realigoj kiuj   tiun difinon ne havas.</li><li>En linio 3-a <code>f</code> bindiÄas al implicita valoro.</li><li>En linioj 5-a Äis 16-a estas la korpo do <code>amb</code>.</li><li>En linioj 18-a Äis 21-a estas ekzempla funckio: se <code>x</code> kaj <code>y</code> egalas, liston Äi liveras; se ne,   <code>amb</code> vokiÄos.</li><li>En linioj 23-a Äis 26-a, <code>call/cc</code> vokiÄas, en kiu la vera komenca valoro de <code>f</code> pravaloriziÄas   per lambdo kiu je <code>'neniuj-elektoj</code> simple liveras.</li><li>Oni reiru al la korpo de <code>amb</code> en linioj 5-a Äis 16-a. En linio 7-a, se <code>amb</code> vokiÄas kiel:<pre><code class="scheme">&#40;amb&#41;
</code></pre>la funkcio <code>f</code> vokiÄos, per kio ajn <code>f</code> povas fari.</li><li>En linio 8-a, se <code>amb</code> vokiÄas kiel:<pre><code class="scheme">&#40;amb &quot;hundo&quot;&#41;
</code></pre>la argumento <code>&quot;hundo&quot;</code> simple liveriÄas.</li><li>Tamen, per pli ol unu argumentoj, la konduto de <code>amb</code> ÅanÄiÄos. Unue, en linio 10-a, la aktuala   valoro de <code>f</code> bindiÄas al <code>s</code>, sekve en linio 11-a, <code>call/cc</code> vokiÄas, la aktualan daÅ­rigon   kaptante al <code>k</code>.</li><li>Ene la korpo de la lambdo, novan valoron la tutmonda variablo <code>f</code> havosâ€”alian lambdonâ€”kiu ne   estas taksota Äis Äi estas specife petata. En tiu korpo, la valoron de <code>s</code> antaÅ­e <code>f</code> havos, tiam   <code>k</code> vokiÄos per la valoro <code>b ...</code>, kiu estas la ceteraj argumentoj por <code>amb</code>.</li><li>Laste, en linio 16-a, la <code>k</code> funkcioâ€”la restanta komputoâ€”aplikiÄos al la valoro <code>a</code>.</li></ol><h3><a name="ambtaksado">Taksado</a></h3><p>Je <code>cxu-vere?</code> uzante, la paÅojn en la uzado de <code>amb</code> oni rigardos. Se la jenan esprimon oni havas,</p><pre><code class="scheme">&#40;cxu-vere? &#40;amb &quot;hundo&quot; &quot;kato&quot; 9&#41; &#40;amb &quot;muso&quot; 9&#41;&#41;
</code></pre><p>jen la pli simpligitaj taksadaj paÅoj:</p><ol><li><code>&#40;ambÂ &quot;hundo&quot;Â &quot;kato&quot;Â 9&#41;</code> taksiÄos;</li><li>Pro tio, ke pli ol unu argumento estas pasitaj al <code>amb</code> oni iru al linio 9-a;</li><li>La aktualan valoron de <code>f</code> de la plej supra nivelo la loka variablo <code>s</code> havos;<pre><code class="scheme">&#40;lambda &#40;&#41; &#40;k 'neniuj-elektoj&#41;&#41;
</code></pre></li><li>La lambdo en linio 12-a vokiÄos kun la restanta komputo al <code>k</code>;</li><li>En linio 13-a novan valoron <code>f</code> havos. La valoro estos lambdo;</li><li>Kiam la lambdo vokiÄos, la valoron de <code>s</code>â€”kiu estas la lambdo de paÅo 3-aâ€”<code>k</code> denove havos;</li><li><code>k</code> aplikiÄos al <code>a</code>, en kiu, <code>&#40;kÂ a&#41;</code> estas:<pre><code class="scheme">&#40;&#40;lambda &#40;v&#41; &#40;cxu-vere? v &#40;amb &quot;muso&quot; 9&#41;&#41;&#41; &quot;hundo&quot;&#41;
</code></pre>kiu konsekvece fariÄas<pre><code class="scheme">&#40;&#40;lambda &#40;v&#41; &#40;&#40;lambda &#40;w&#41; &#40;cxu-vere? v w&#41;&#41; &quot;hundo&quot;&#41;&#41; &quot;muso&quot;&#41;
</code></pre>pro la voko <code>&#40;ambÂ &quot;muso&quot;Â 9&#41;</code>;</li><li>Pro tio, ke <code>&quot;hundo&quot;</code> ne egalas al <code>&quot;muso&quot;</code> la <code>amb</code> operatoro vokiÄos, kiel:<pre><code class="scheme">&#40;amb&#41;
</code></pre></li><li>Pro tio, ke argumenton <code>&#40;amb&#41;</code> ne havas, la esprimo en linio 7-a okazos;<pre><code class="scheme">&#40;f&#41;
</code></pre>en kiu la valoro de <code>f</code> estas la lambdo en la linioj 13-a Äis 15-a. La valoro de <code>f</code> denove fariÄas:<pre><code class="scheme">&#40;lambda &#40;&#41; &#40;k 'neniuj-elektoj&#41;&#41;
</code></pre></li><li>Tiam, en linio 15-a, <code>k</code> vokiÄos kiel <code>&#40;kÂ &quot;kato&quot;Â 9&#41;</code>.</li><li>La paÅoj ripetiÄos, je <code>cxu-vere?</code> vokante plurfoje. La paÅoj aspektos kiel:<pre><code class="scheme">&#40;cxu-vere? &quot;hundo&quot; &quot;muso&quot;&#41;
&#40;cxu-vere? &quot;hundo&quot; 9&#41;
&#40;cxu-vere? &quot;kato&quot; &quot;muso&quot;&#41;
&#40;cxu-vere? &quot;kato&quot; 9&#41;
&#40;cxu-vere? 9 &quot;muso&quot;&#41;
&#40;cxu-vere? 9 9&#41;
</code></pre></li><li>Pro tio, ke <code>9</code> egalas al <code>9</code>, la esprimo<pre><code class="scheme">&#40;list 9 9&#41;
</code></pre>taksiÄos en la korpo de <code>cxu-vere?</code> kiu finfine liveras na<pre><code>'&#40;9 9&#41;
</code></pre></li></ol><h2><a name="finrimarkoj">Finrimarkoj</a></h2><p>En Ä‰i tiu artikolo, oni rimarkis, ke per <code>call/cc</code> nedeterminismon per retroiÄado oni povis atingi facile per <code>amb</code> kaj bazaj skimaj funkcioj. Tamen, estas aliaj pli detalaj kaj pli bonaj metodoj por Ä‰i tion atingi.</p><p>La tipo de daÅ­rigoj, kiun oni traktis estis <a href='https://en.wikipedia.org/wiki/Continuation'>nelimigitaÂ daÅ­rigoÂ (angle)</a> kontraste al <a href='https://en.wikipedia.org/wiki/Delimited_continuation'>limigitaÂ daÅ­rigoÂ (angle)</a>. Mi ankaÅ­ devas mencii, ke estas <a href='http://okmij.org/ftp/continuations/against-callcc.html'>argumento</a> kontraÅ­ la uzado de <code>call/cc</code>.</p><p>Mi esperas, ke iel, bonan ion oni lernis el Ä‰i tiu afiÅo.</p><hr/><div class="footer"><p><div class="text-small"> <a href='/eo/'>Hejmo</a> âˆ… <a href='/eo/pri/'>Pri</a> âˆ… <a href='/eo/citajxoj/'>CitaÄµoj</a> âˆ… <a href='/eo/pripensoj/'>Pripensoj</a> </div></p><p><div class="text-x-small"> Kreita en ğŸ‡µğŸ‡­ per â¤ï¸ de Rommel MartÃ­nez </div></p><p></div></p></div><script src="/static/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></body></html>