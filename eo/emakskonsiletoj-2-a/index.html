<!DOCTYPE html>
<html lang="eo"><head><title>Emaksaj Konsiletoj 2-a: Seancoj kaj Pakoj</title><meta charset="utf-8" /><meta content="width=device-width,initial-scale=1.0,user-scalable=yes" name="viewport" /><meta content="noodp,noydir" name="robots" /><link rel='apple-touch-icon' sizes='180x180' href='/images/ico/apple-touch-icon.png'><link rel='icon' type='image/png' sizes='32x32' href='/images/ico/favicon-32x32.png'><link rel='icon' type='image/png' sizes='16x16' href='/images/ico/favicon-16x16.png'><link rel='manifest' href='/images/ico/site.webmanifest'><link rel='mask-icon' href='/images/ico/safari-pinned-tab.svg' color='#5bbad5'><link rel='shortcut icon' href='/images/ico/favicon.ico'> <meta name='msapplication-TileColor' content='#da532c'> <meta name='msapplication-config' content='/images/ico/browserconfig.xml'> <meta name='theme-color' content='#ffffff'><meta content="Emaksaj Konsiletoj 2-a: Seancoj kaj Pakoj" name="description" /><meta content="emakso, konsileto,j, seancoj, pakoj, paka��oj, pakajxoj, labortablo, savehist, elpa, melpa, lininumeroj, tempindikoj, klavoj, plenigi, montrilo, git, agordo, agorda��o, agordajxo" name="keywords" /><meta content="Emaksaj Konsiletoj 2-a: Seancoj kaj Pakoj" property="og:title" /><meta content="article" property="og:type" /><meta content="https://ebzzry.io/eo/emakskonsiletoj-2-a/" property="og:url" /><meta content="https://ebzzry.io/images/ico/android-chrome-512x512.png" property="og:image" /><style media="all" type="text/css">html {    color: #333;    font-size: 1em;    font-family: Georgia, Cambria, Palatino, "Palatino Linotype", "Times New Roman", Times, serif;    line-height: 1.45;    text-align: left:    width: 100%;    max-width: 40em;    margin: 0 auto 0 auto;    padding: 0;}body {    border-top: hidden;    border-bottom: hidden;    padding: 0 1.5em 1em 1.5em;    margin: 0;}#content {    -webkit-column-count: 1;    -moz-column-count: 1;    column-count: 1;}code {    font-size: 0.9em;    font-family: "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Lucida Console", "Courier New", Courier, monospace;    color: black;    display: inline-block;    font-weight: bold;}pre code {    font-size: 1em;    font-family: monospace;    line-height: 1.3em;    overflow: auto;    font-weight: normal;}kbd {    font-size: 1.1em;    padding: 0.1em 0.6em;    border: 1px solid #ccc;    font-family: monospace;    background-color: #f7f7f7;    color: #333;    -moz-box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    -webkit-box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    -moz-border-radius: 3px;    -webkit-border-radius: 3px;    border-radius: 3px;    display: inline-block;    margin: 0 0.1em;    text-shadow: 0 1px 0 #fff;    white-space: nowrap;}h1, h2, h3, h4, h5, h6 {    font-family: Calibri, "Gill Sans", "Gill Sans MT", "Myriad Pro", Myriad, "DejaVu Sans", Tahoma, Geneva, Helvetica, Arial, sans-serif;    margin-bottom: 0;}h1 {    font-size: 2.5em;    text-align: center;    border-bottom: 6px solid black;}h2 {    font-size: 2.0em;    text-align: left;    border-bottom: 2px solid black;}h3 {    font-size: 1.6em;    text-align: left;    border-bottom: 1px solid lightgrey;}h4 {    font-size: 1.5em;    text-align: left;}h5 {    font-size: 1.3em;    text-align: left;}ul, ol {    padding-left: 2em;}ul li {    list-style-type: square;}ul li li {    list-style-type: disc;}ul li li li {    list-style-type: circle;}ol li {    list-style-type: decimal;}p, para, b, strong, i, em, emph {    font-size: 1em;}blockquote {    font-size: 1.2em;    font-style: italic;    margin-left: 2em;}b, strong {    font-weight: bold;}i, em, emph {    font-style: italic;}table {    margin: 0.5em;    border-spacing: 0;    border-collapse: collapse;}th, td {    border: 1px solid lightgray;    padding-top: 0;    padding-bottom: 0;    padding-left: 0.45em;    padding-right: 0.45em;}.text-right {    text-align: right;}.text-small {    font-size: small;}.text-x-small {    font-size: x-small;}.banner {    display: block;    width: 100%;    margin-left: auto;    margin-right: auto;}.footer {    text-align: right;    float: right;    max-width: 18em;}.cc {    border-width: 0}.center {    text-align: center;}</style><style media="all" type="text/css">/* Ewan Themes -- based 99.99% from Tomorrow Night Theme *//* http://jmblog.github.com/color-themes-for-google-code-highlightjs *//* Original theme - https://github.com/chriskempson/tomorrow-theme *//* http://jmblog.github.com/color-themes-for-google-code-highlightjs *//* Tomorrow Comment */.hljs-comment {  color: #969896;}/* Tomorrow Red */.hljs-variable,.hljs-attribute,.hljs-tag,.hljs-regexp,.ruby .hljs-constant,.xml .hljs-tag .hljs-title,.xml .hljs-pi,.xml .hljs-doctype,.html .hljs-doctype,.css .hljs-id,.css .hljs-class,.css .hljs-pseudo {  color: #cc6666;}/* Tomorrow Orange */.hljs-number,.hljs-preprocessor,.hljs-pragma,.hljs-built_in,.hljs-literal,.hljs-params,.hljs-constant {  color: #de935f;}/* Tomorrow Yellow */.ruby .hljs-class .hljs-title,.css .hljs-rule .hljs-attribute {  color: #f0c674;}/* Tomorrow Green */.hljs-string,.hljs-value,.hljs-inheritance,.hljs-header,.hljs-name,.ruby .hljs-symbol,.xml .hljs-cdata {  color: #b5bd68;}/* Tomorrow Aqua */.hljs-title,.css .hljs-hexcolor {  color: #8abeb7;}/* Tomorrow Blue */.hljs-function,.python .hljs-decorator,.python .hljs-title,.ruby .hljs-function .hljs-title,.ruby .hljs-title .hljs-keyword,.perl .hljs-sub,.javascript .hljs-title,.coffeescript .hljs-title {  color: #81a2be;}/* Tomorrow Purple */.hljs-keyword,.javascript .hljs-function {  color: #b294bb;}.hljs {  display: block;  overflow-x: auto;  background: #1d1f21;  color: #c5c8c6;  padding: 0.5em;  -webkit-text-size-adjust: none;}.coffeescript .javascript,.javascript .xml,.tex .hljs-formula,.xml .javascript,.xml .vbscript,.xml .css,.xml .hljs-cdata {  opacity: 0.5;}pre code {    font-size: 1.1em;    font-family: monospace;    line-height: 1.3em;    overflow: auto;}</style></head><body><div id="content"><h1>Emaksaj Konsiletoj 2-a: Seancoj kaj Pakoj</h1><p><div class="center">Esperanto ▪ <a href='/en/emacs-tips-2/'>English</a></div> <div class="center">la 20-an de Februaro 2018</div> <div class="center">Laste ĝisdatigita: la 14-an de Aŭgusto 2019</div></p><p>Ĉi tiu estas la daŭrigo de la serioj pri emaksaj konsiletoj. En ĉi tiu afiŝo, ni esploras seancan mastrumadon, pakojn, krommarĝenojn, kaj aliajn malgrandajn agrablajn aferojn.</p><h2><a name="et"></a>Enhavotabelo</h2><ul><li><a href='#desktop'>Desktop</a></li><li><a href='#savehist'>Savehist</a></li><li><a href='#kunfando'>Kunfando</a></li><li><a href='#pakoj'>Pakoj</a><ul><li><a href='#elpa'>ELPA</a></li><li><a href='#use-package'>use-package</a></li></ul></li><li><a href='#lininumeroj'>Lininumeroj</a></li><li><a href='#tempindikoj'>Tempindikoj</a></li><li><a href='#klavoj'>Klavoj</a></li><li><a href='#linifinio'>Linifinio sen krommarĝeno</a></li><li><a href='#plenigado'>Plenigado</a></li><li><a href='#montrilo'>Montrilomovado</a></li><li><a href='#gito'>Gitstato en Dired</a></li><li><a href='#klavkombinoj'>Klavkombinoj</a></li><li><a href='#finrimarkoj'>Finrimarkoj</a></li></ul><h2><a name="desktop"></a>Desktop</h2><p>Havenda ilo kiun mi nun uzas estas <i>Desktop</i>. Ĝi konservas la staton de la emaksa seanco, por ke en la okazo de kraŝo, kurenta malfunkcio, aŭ io kiu igas min perdi mian seancon, mi povu reiri al ĝi. Desktop enkonstruitas kun la plej ĵusaj versioj de emakso. La jena estas la kodaĵo:</p><pre><code class="lisp">&#40;require 'desktop&#41;

&#40;desktop-save-mode&#41;

&#40;setq desktop-dirname &quot;&#126;/.emacs.d&quot;
      desktop-base-file-name &quot;desktop&quot;
      desktop-base-lock-name &quot;desktop.lock&quot;
      desktop-restore-frames t
      desktop-restore-reuses-frames t
      desktop-restore-in-current-display t
      desktop-restore-forces-onscreen t&#41;

&#40;defun desktop-save &#40;&#41;
  &#40;interactive&#41;
  &#40;if &#40;eq &#40;desktop-owner&#41; &#40;emacs-pid&#41;&#41;
      &#40;desktop-save desktop-dirname&#41;&#41;&#41;
</code></pre><h2><a name="savehist"></a>Savehist</h2><p>Alia grava funkciado kiun mi uzas estas <i>Savehist</i>. Ĝi konservas la etbufran historion. Iomete similas al konservi la komandlinian historion. La jena estas la kodaĵo:</p><pre><code class="lisp">&#40;savehist-mode t&#41;

&#40;setq savehist-file &quot;&#126;/.emacs.d/savehist&quot;&#41;
</code></pre><h2><a name="kunfando"></a>Kunfando</h2><p>Okazis multe da fojo, kiam mi volas permane konservi la staton de tiom da seancan informon kiun mi povas konservi. Mi volus konservi la bufrojn, etbufran historion, legosignojn, kaj comint-reĝiman historion. Por fari tiel, mi havas la jenan:</p><pre><code class="lisp">&#40;defun save-defaults &#40;&#41;
  &#40;desktop-save desktop-dirname&#41;
  &#40;savehist-save&#41;
  &#40;bookmark-save&#41;&#41;

&#40;defun save-histories &#40;&#41;
  &#40;let &#40;&#40;buf &#40;current-buffer&#41;&#41;&#41;
    &#40;save-excursion
      &#40;dolist &#40;b &#40;buffer-list&#41;&#41;
        &#40;switch-to-buffer b&#41;
        &#40;save-history&#41;&#41;&#41;
    &#40;switch-to-buffer buf&#41;&#41;&#41;

&#40;defun save &#40;&#41;
  &#40;interactive&#41;
  &#40;save-desktop&#41;
  &#40;save-defaults&#41;
  &#40;save-histories&#41;&#41;
</code></pre><p>Liveras la agrablan:</p><pre><code>M-x save EN</code></pre><h2><a name="pakoj"></a>Pakoj</h2><h3><a name="elpa"></a>ELPA</h3><p>ELPA estas la pako-administrila sistemo de emakso. Se vi ne ankoraŭ uzas la paksistemon, uzu ĝin nun. Ĉiuj, kiujn oni bezonas komenci estas la jena:</p><pre><code class="lisp">&#40;require 'package&#41;

&#40;setq package-archives
      '&#40;&#40;&quot;gnu&quot; . &quot;http://elpa.gnu.org/packages/&quot;&#41;
        &#40;&quot;marmalade&quot; . &quot;http://marmalade-repo.org/packages/&quot;&#41;
        &#40;&quot;melpa&quot; . &quot;http://melpa.milkbox.net/packages/&quot;&#41;&#41;&#41;

&#40;package-initialize&#41;

&#40;defalias 'pi 'package-install&#41;
&#40;defalias 'pl 'package-list-packages&#41;
&#40;defalias 'pr 'package-refresh-contents&#41;
</code></pre><p>Por listigi ĉiujn haveblajn pakojn, premu:</p><pre><code>M-x pl EN</code></pre><p>Se vi konas la nomon de pako, premu:</p><pre><code>M-x pi EN pako EN</code></pre><p>Por ĝistadigi vian lokan datumon, premu:</p><pre><code>M-x pr EN</code></pre><h3><a name="use-package"></a>use-package</h3><p>Ĉi tiu estas vera valorŝtono. Similas al <code>require</code>, tamen kun steroidoj. Kiam <em>require</em>-igi pakon, oni havas la elekton por instali tiun pakon, se tiu ne ankoraŭ ekzistas. Ankaŭ donas al la uzanto la kapablon por agordi tiun pakon, ene unuigita esprimo. Tamen, male <code>require</code>, <code>use-package</code> ne alvenas konstruita kun emakso. Oni bezonas instali ĝin per <code>package-install</code>:</p><pre><code>M-x pi EN use-package EN</code></pre><p>Oni nun povas postuli ĝin per la sekva esprimo:</p><pre><code class="lisp">&#40;require 'use-package&#41;
</code></pre><p>Por instali <code>markdown-mode</code> ekzemple, se eĉ ne jam ekzistas, kaj agordi ĝiajn rilatajn opciojn post ŝargi ĝin, havu la jenan:</p><pre><code class="lisp">&#40;use-package markdown-mode
    :ensure t
    :config
    &#40;progn
      &#40;push '&#40;&quot;\\.text\\'&quot; . markdown-mode&#41; auto-mode-alist&#41;
      &#40;push '&#40;&quot;\\.markdown\\'&quot; . markdown-mode&#41; auto-mode-alist&#41;
      &#40;push '&#40;&quot;\\.md\\'&quot; . markdown-mode&#41; auto-mode-alist&#41;&#41;&#41;
</code></pre><h2><a name="lininumeroj"></a>Lininumeroj</h2><p>Mi tre ŝatas havi la lininumerojn montrataj ĉe la maldekstra marĝeno. Donas al mi iom da ideo kiel granda la dosiero estas, kaj kie ni nune estas. Ŝalti <code>linum-mode</code> atingas tion:</p><pre><code class="lisp">&#40;setq linum-format &quot;%5d │ &quot;&#41;

&#40;defun my-linum-mode-hook &#40;&#41;
  &#40;linum-mode t&#41;&#41;

&#40;add-hook 'find-file-hook 'my-linum-mode-hook&#41;
</code></pre><h2><a name="tempindikoj"></a>Tempindikoj</h2><p>Mi ofte bezonas meti tempindikojn, precipe kiam mi redaktas mian ĉiutagan protokoldosieron. La jena estas kelke da kodaĵo por helpi onin:</p><pre><code class="lisp">&#40;defun format-date &#40;format&#41;
  &#40;let &#40;&#40;system-time-locale &quot;eo.utf8&quot;&#41;&#41;
    &#40;insert &#40;format-time-string format&#41;&#41;&#41;&#41;

&#40;defun insert-date &#40;&#41;
  &#40;interactive&#41;
  &#40;format-date &quot;%A, %B %d %Y&quot;&#41;&#41;

&#40;defun insert-date-and-time &#40;&#41;
  &#40;interactive&#41;
  &#40;format-date &quot;%Y-%m-%d %H:%M:%S&quot;&#41;&#41;
</code></pre><p>Ŝanĝu la valoron de <code>system-time-locale</code> kiel taŭgas.</p><h2><a name="klavoj"></a>Klavoj</h2><p>Kiam la klavkombinoj ne ordigatas, ne estas facile por trovi tiun, kiun klavkombino klavo estas ligita. Bonŝance, oni havas <code>bind-key</code>, kiu estas parto de <code>use-package</code>.</p><p>Ekzampla uzado de <code>bind-key</code> aspektus kiel:</p><pre><code class="lisp">&#40;bind-keys
 :map global-map
 &#40;&quot;C-;&quot; . eval-expression&#41;
 &#40;&quot;C-j&quot; . delete-indentation&#41;&#41;
</code></pre><h2><a name="linifinio"></a>Linifinio sen krommarĝeno</h2><p>Ĉi tiu komando kreas linifinion, kiam movadas la montrilon. Ŝajnigas agmanieron, en kiu, la novlinion ne krommarĝeniĝas.</p><pre><code class="lisp">&#40;defun newline-and-no-indent &#40;&amp;optional arg&#41;
  &#40;interactive &quot;p&quot;&#41;
  &#40;open-line arg&#41;
  &#40;next-line arg&#41;&#41;
</code></pre><h2><a name="plenigado"></a>Plenigado</h2><p>Ĉi tiu kodaĵo ege funkcias kiam labori pri plataj tekstoj. Krommarĝenigas alineon aŭ la aktualan alinean kontekston. Se ekzistas markilo, tiam la regiono plenigiĝas.</p><pre><code class="lisp">&#40;defun fill-region-or-paragraph &#40;&#41;
  &#40;interactive&#41;
  &#40;if &#40;region-active-p&#41;
      &#40;fill-region&#41;
      &#40;fill-paragraph&#41;&#41;&#41;
</code></pre><h2><a name="montrilo"></a>Montrilomovado</h2><p>La komando <code>move-to-window-line-top-bottom</code>, defaŭlte bindita al <kbd>M-r</kbd> bonegas kiam oni volas movi la montrilon al la supra, meza, kaj malsupra pozicioj en rilato kun la fenestro similas al la <kbd>H</kbd>, <kbd>M</kbd>, kaj <kbd>L</kbd> komandoj de Vimo.</p><p>Tamen ne estas tre ekonomie kiam specife celi areojn de la ekrano. La komandoj malsupre pozicias la montrilon, specife al la supra, meza, kaj malsupra pozicioj, respektive.</p><pre><code class="lisp">&#40;defun move-to-window-line-top &#40;&#41;
  &#40;interactive&#41;
  &#40;move-to-window-line 0&#41;&#41;

&#40;defun move-to-window-line-center &#40;&#41;
  &#40;interactive&#41;
  &#40;move-to-window-line nil&#41;&#41;

&#40;defun move-to-window-line-bottom &#40;&#41;
  &#40;interactive&#41;
  &#40;move-to-window-line -1&#41;&#41;
</code></pre><h2><a name="gito"></a>Gitstato en Dired</h2><p>Ĉi tiu malgranda kodaĵo donas vidajn indikojn de la stato de gitmastrumitaj dosieroj ene Dired-bufro. Premi <kbd>g</kbd> reŝargas la bufron, tiam ĝisdatigas la staton.</p><pre><code class="lisp">&#40;use-package dired-k
    :ensure t
    :config
  &#40;progn
    &#40;add-hook 'dired-initial-position-hook 'dired-k&#41;&#41;&#41;
</code></pre><h2><a name="klavkombinoj"></a>Klavkombinoj</h2><p>La klavkombinoj por la supraj komandoj listigitas malsupre:</p><pre><code class="lisp">&#40;bind-keys
 :map global-map
 &#40;&quot;C-c d&quot;   . insert-date&#41;
 &#40;&quot;C-c C-d&quot; . insert-date-and-time&#41;

 &#40;&quot;S-&lt;return&gt;&quot; . newline-and-no-indent&#41;

 &#40;&quot;M-q&quot; . fill-region-or-paragraph&#41;

 &#40;&quot;C-M-y&quot; . yank-primary&#41;

 &#40;&quot;M-1&quot; . move-to-window-line-top&#41;
 &#40;&quot;M-2&quot; . move-to-window-line-center&#41;
 &#40;&quot;M-3&quot; . move-to-window-line-bottom&#41;&#41;

&#40;bind-keys
 :map dired-mode-map
 &#40;&quot;K&quot; . dired-k&#41;
 &#40;&quot;g&quot; . dired-k&#41;&#41;
</code></pre><h2><a name="finrimarkoj"></a>Finrimarkoj</h2><p>En ĉi tiu afiŝo, mi montris, ke la malgrandaj alĝustigetoj povas generi grandajn gajnojn. Le resto de la agordo troveblas <a href='https://github.com/ebzzry/dotfiles/tree/master/emacs'>ĉi tie</a>. Se vi havas emaksan kodumon por havigi, sendu tirpeton!</p><hr/><div class="footer"><p><div class="text-small"> <a href='/eo/'>Hejmo</a> ▪ <a href='/eo/pri/'>Pri</a> ▪ <a href='/eo/citajxoj/'>Citaĵoj</a> ▪ <a href='/eo/pripensoj/'>Pripensoj</a> ▪ <a href='https://github.com/ebzzry/ebzzry.github.io'>Fonto</a> </div> <div class="text-x-small"> Kreite per <a href='https://github.com/ebzzry/emem'>emem</a> kaj <a href='https://github.com/ebzzry/skeleton'>skeleton</a> </div></p><p><div class="text-x-small"> <a rel="license" href="https://creativecommons.org/publicdomain/zero/1.0/deed.eo"><img alt="CC0 1.0 Universala (CC0 1.0) Publikaĵiga Dediĉo" class="cc" src="/bil/cc0-88x31.png" /></a><br> Ĉi tiu verko estas <a rel="license" href="https://creativecommons.org/publicdomain/zero/1.0/deed.eo">publika havaĵo.</a><br> </div></p><p></div></p></div><script src="/static/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create', 'UA-93746003-1', 'auto');ga('send', 'pageview');</script></body></html>