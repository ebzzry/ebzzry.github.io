<!DOCTYPE html>
<html lang="eo"><head><title>Agordi je GPG kaj je SSH en KDE-o</title><meta charset="utf-8" /><meta content="width=device-width,initial-scale=1.0,user-scalable=yes" name="viewport" /><meta content="noodp,noydir" name="robots" /><meta content="Agordi je GPG kaj je SSH en KDE-o" name="description" /><meta content="gpg, gnupg, ssh, kde, fenestrilo, linukso" name="keywords" /><meta content="Agordi je GPG kaj je SSH en KDE-o" property="og:title" /><meta content="article" property="og:type" /><meta content="https://ebzzry.io/eo/gsk/" property="og:url" /><meta content="https://ebzzry.io/static/ico/android-chrome-512x512.png" property="og:image" /><link href="/static/ico/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180" /><link href="/static/ico/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" /><link href="/static/ico/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" /><link href="/static/ico/manifest.json" rel="manifest" /><link color="#5bbad5" href="/static/ico/safari-pinned-tab.svg" rel="mask-icon" /><meta content="#ffffff" name="theme-color" /><style media="all" type="text/css">html {    color: #333;    font-size: 1em;    font-family: Georgia, Cambria, Palatino, "Palatino Linotype", "Times New Roman", Times, serif;    line-height: 1.45;    text-align: left:    width: 100%;    max-width: 40em;    margin: 0 auto 0 auto;    padding: 0;}body {    border-top: hidden;    border-bottom: hidden;    padding: 0 1.5em 1em 1.5em;    margin: 0;}#content {    -webkit-column-count: 1;    -moz-column-count: 1;    column-count: 1;}code {    font-size: 0.9em;    font-family: "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Lucida Console", "Courier New", Courier, monospace;    color: black;    display: inline-block;    font-weight: bold;}pre code {    font-size: 1em;    font-family: monospace;    line-height: 1.3em;    overflow: auto;    font-weight: normal;}kbd {    font-size: 1.1em;    padding: 0.1em 0.6em;    border: 1px solid #ccc;    font-family: monospace;    background-color: #f7f7f7;    color: #333;    -moz-box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    -webkit-box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    -moz-border-radius: 3px;    -webkit-border-radius: 3px;    border-radius: 3px;    display: inline-block;    margin: 0 0.1em;    text-shadow: 0 1px 0 #fff;    white-space: nowrap;}h1, h2, h3, h4, h5, h6 {    font-family: Calibri, "Gill Sans", "Gill Sans MT", "Myriad Pro", Myriad, "DejaVu Sans", Tahoma, Geneva, Helvetica, Arial, sans-serif;    margin-bottom: 0;}h1 {    font-size: 2.5em;    text-align: center;    border-bottom: 6px solid black;}h2 {    font-size: 2.0em;    text-align: left;    border-bottom: 2px solid black;}h3 {    font-size: 1.6em;    text-align: left;    border-bottom: 1px solid lightgrey;}h4 {    font-size: 1.5em;    text-align: left;}h5 {    font-size: 1.3em;    text-align: left;}ul, ol {    padding-left: 2em;}ul li {    list-style-type: square;}ul li li {    list-style-type: disc;}ul li li li {    list-style-type: circle;}ol li {    list-style-type: decimal;}p, para, b, strong, i, em, emph {    font-size: 1em;}blockquote {    font-size: 1.2em;    font-style: italic;    margin-left: 2em;}b, strong {    font-weight: bold;}i, em, emph {    font-style: italic;}table {    margin: 0.5em;    border-spacing: 0;    border-collapse: collapse;}th, td {    border: 1px solid lightgray;    padding-top: 0;    padding-bottom: 0;    padding-left: 0.45em;    padding-right: 0.45em;}.text-right {    text-align: right;}.text-small {    font-size: small;}.text-x-small {    font-size: x-small;}.banner {    display: block;    width: 100%;    margin-left: auto;    margin-right: auto;}.footer {    text-align: right;    float: right;    max-width: 18em;}.cc {    border-width: 0}.center {    text-align: center;}</style><style media="all" type="text/css">/* Ewan Themes -- based 99.99% from Tomorrow Night Theme *//* http://jmblog.github.com/color-themes-for-google-code-highlightjs *//* Original theme - https://github.com/chriskempson/tomorrow-theme *//* http://jmblog.github.com/color-themes-for-google-code-highlightjs *//* Tomorrow Comment */.hljs-comment {  color: #969896;}/* Tomorrow Red */.hljs-variable,.hljs-attribute,.hljs-tag,.hljs-regexp,.ruby .hljs-constant,.xml .hljs-tag .hljs-title,.xml .hljs-pi,.xml .hljs-doctype,.html .hljs-doctype,.css .hljs-id,.css .hljs-class,.css .hljs-pseudo {  color: #cc6666;}/* Tomorrow Orange */.hljs-number,.hljs-preprocessor,.hljs-pragma,.hljs-built_in,.hljs-literal,.hljs-params,.hljs-constant {  color: #de935f;}/* Tomorrow Yellow */.ruby .hljs-class .hljs-title,.css .hljs-rule .hljs-attribute {  color: #f0c674;}/* Tomorrow Green */.hljs-string,.hljs-value,.hljs-inheritance,.hljs-header,.hljs-name,.ruby .hljs-symbol,.xml .hljs-cdata {  color: #b5bd68;}/* Tomorrow Aqua */.hljs-title,.css .hljs-hexcolor {  color: #8abeb7;}/* Tomorrow Blue */.hljs-function,.python .hljs-decorator,.python .hljs-title,.ruby .hljs-function .hljs-title,.ruby .hljs-title .hljs-keyword,.perl .hljs-sub,.javascript .hljs-title,.coffeescript .hljs-title {  color: #81a2be;}/* Tomorrow Purple */.hljs-keyword,.javascript .hljs-function {  color: #b294bb;}.hljs {  display: block;  overflow-x: auto;  background: #1d1f21;  color: #c5c8c6;  padding: 0.5em;  -webkit-text-size-adjust: none;}.coffeescript .javascript,.javascript .xml,.tex .hljs-formula,.xml .javascript,.xml .vbscript,.xml .css,.xml .hljs-cdata {  opacity: 0.5;}pre code {    font-size: 1.1em;    font-family: monospace;    line-height: 1.3em;    overflow: auto;}</style></head><body><div id="content"><h1>Agordi je GPG kaj je SSH en KDE-o</h1><p><div class="center"><a href='#'>Esperante</a> · <a href='/en/gsk'>English</a></div> <div class="center">la 19-an de Februaro 2018</div> <div class="center">Laste ŝanĝita: la 20-an de Marto 2018</div></p><blockquote><p>Ne tute estas grave por prave atingi tion en la unua fojo. Estas vitale grava atingi tion en la lasta tempo.<br> ―Andrew HUNT kaj David THOMAS </p></blockquote><p>Kiam kaj GPG-o kaj SSH-o bone enkonstruitas kun KDE-o, estas facile por kunoperacii tiujn sistemojn. Ekzistas kontrasto inter malfirme adaptita ganto kaj tiu, kiu tre bone adaptiĝas.</p><p>Ĉi tiu mallonga gvidilo traktos la paŝojn kiel fari tion. Por gastigi ĉiujn, mi ankoraŭ diskutos kiel instali kaj agordi la bezonatajn komponantojn. Ni uzos je <a href='https://www.nano-editor.org/'>nano</a> por ĉi tiu seanco, tamen oni liberas uzi ian redaktilon.</p><h2><a name="et"></a>Enhavotabelo</h2><ul><li><a href='#postuloj'>Postuloj</a></li><li><a href='#ssh'>Agordi je SSH</a></li><li><a href='#gpg'>Agordi je GPG</a></li><li><a href='#kde'>Agordi je KDE</a></li><li><a href='#kontrolo'>Kontrolo</a></li><li><a href='#finrimarkoj'>Finrimarkoj</a></li></ul><h2><a name="postuloj"></a>Postuloj</h2><p>Por ĉi tiu gvidilo, oni bezonas havi je GPG, je SSH, kaj je Pinentry.</p><p>Per Nix-o:</p><pre><code>$ nix-env -i gnupg openssh pinentry</code></pre><p>Per APT-o:</p><pre><code>$ sudo apt-get install gnupg2 ssh pinentry-qt4</code></pre><p>Per DNF-o:</p><pre><code>$ sudo dnf install gnupg openssh pinentry</code></pre><h2><a name="ssh"></a>Agordi je SSH</h2><p>Nu, nun oni havas la partojn antaŭ si, estas tempo por munti la komponantojn. La unua afero kiun oni bezonas fari—kvankam vere la dosieroj kiun oni bezonas malfermi povas esti farita en ia ordo kiun si volas—estas krei siajn sekurŝelajn ŝlosilojn:</p><pre><code>$ ssh-keygen -t ed25519</code></pre><p>NE ENIGU malplenan pasfrazon. Se oni insistas, pafu la kapon.</p><p>La supra komando kreos du dosierojn:</p><pre><code>&#126;/.ssh/id&#95;ed25519.pub
&#126;/.ssh/id&#95;ed25519</code></pre><p>Tiam, permesu la mem sur la defora servilo, por ke la senpasvortaj ensalutoj funkcios poste:</p><pre><code>$ ssh-copy-id uzanto@deforgastiganto</code></pre><h2><a name="gpg"></a>Agordi je GPG</h2><p>Sekve, oni bezonas krei siajn GPG-ajn ŝlosilojn. Observu la invitojn, kiuj aperas, certigi ke oni elektas la plej fortajn opciojn:</p><pre><code>$ gpg2 --gen-key</code></pre><p>Se oni volas uzi pli bonajn pasfrazojn, uzu <a href='http://world.std.com/~reinhold/diceware.html'>dajsvaron</a>. XKCD-a bildstrio kreitas pro tio.</p><p>La sekva afero por fari estas por redakti la ĉefan GPG-an agorddosieron:</p><pre><code>$ nano &#126;/.gnupg/gpg.conf</code></pre><p>Trovu la linion kiu enhavas <code>use-agent</code> kaj malkomentigu ĝin, se ĝi estas komentigita. Se tiu linio ne ekzistas, simple metu <code>use agent</code> ĉe la fino de tiu dosiero.</p><p>Tiam, oni bezonas redakti la perilan dosieron:</p><pre><code>$ nano &#126;/.gnupg/gpg-agent.conf</code></pre><p>Metu la jenan kodaĵon:</p><pre><code>no-grab
default-cache-ttl 10800
default-cache-ttl-ssh 10800
pinentry-program /usr/bin/pinentry-qt4</code></pre><p>Anstataŭigu la valoron de <code>pinentry-program</code> per la efektiva dosierindiko de pinentry-o sur la sistemo. Por precizigi la lokon de pinentry-o, kuru:</p><pre><code>$ which pinentry-qt4</code></pre><h2><a name="kde"></a>Agordi je KDE</h2><p>Oni nun bezonas ligi la GPG-an perilon al KDE-o. Oni bezonas krei startigan skripton por KDE-o, kiu alvokos la GPG-an perilon dum startigo. Oni ankaŭ bezonas diri al la GPG-a perilo por ŝalti SSH-an apogon.</p><pre><code>$ mkdir &#126;/.kde/env
$ nano &#126;/.kde/env/01&#95;gpg-agent.sh</code></pre><p>Tiam metu la jenan kodaĵon:</p><pre><code class="bash">#!/usr/bin/env bash

killall gpg-agent
eval `gpg-agent --enable-ssh-support --daemon`
</code></pre><p>Faru ĝin plenumebla:</p><pre><code>$ chmod +x &#126;/.kde/env/01&#95;gpg-agent.sh</code></pre><p>Fine, kreu la sistemferman skripton por la GPG-a perilo:</p><pre><code>$ mkdir &#126;/.kde/shutdown
$ nano &#126;/.kde/shutdown/01&#95;gpg-agent.sh</code></pre><p>Tiam metu la jenan kodaĵon:</p><pre><code class="bash">#!/bin/sh

killall gpg-agent
</code></pre><p>Ne forgesu por fari ĝin plenumebla:</p><pre><code>$ chmod +x &#126;/.kde/shutdown/01&#95;gpg-agent.sh</code></pre><h2><a name="kontrolo"></a>Kontrolo</h2><p>Bedaŭrinde, oni bezonas reŝargi la KDE-an seancon, por ke ĉi tiuj agordaĵoj efektiviĝas. Se oni konas metodon kiu ne bezonas reŝargi la seancon, avizu min, mi petas.</p><p>Premu <kbd>Ctrl+Alt+Del</kbd> por elsaluti, tiam ensalutu al la konto:</p><p>Malfermu Konsole-an fenestron, tiam konektu al la plej ŝatata SSH-a servilo:</p><pre><code>$ ssh uzanto@deforgastiganto</code></pre><p>Aperas pinentry-a dialogujo demandi onin por sia pasfrazo. Ĉi tiu pasfrazo estos kaŝmemorigita laŭ la agordoj en <code>&#126;/.gnupg/gpg-agent.conf</code>. Sekvaj SSH-aj konektaj klopodoj ne plu demandos la uzanton por la pasfrazon ene la tempolima periodo:</p><p>Okazos samspeca agmaniero se oni ĉifras dosieron GPG-e:</p><pre><code>$ gpg2 -sea -r john@foo.bar file.dat</code></pre><h2><a name="finrimarkoj"></a>Finrimarkoj</h2><p>La paŝoj parolis supre estis intencitaj por esti mallongaj sen priparoli la malsimplajn detalojn. Mi esperas ke oni trovis ĉi tiun utila.</p><p><i>Dank’ al <a href='https://github.com/zhaqenl'>Raymund Martinez</a> pro la korektoj.</i></p><hr/><div class="footer"><p><div class="text-small"> <a href='/eo'>Hejmo</a> · <a href='/eo/pri'>Pri</a> · <a href='/eo/citajxoj'>Citaĵoj</a> · <a href='/eo/pripensoj'>Pripensoj</a> · <a href='https://github.com/ebzzry/ebzzry.github.io'>Fonto</a> </div> <div class="text-x-small"> Kreitis per <a href='https://github.com/ebzzry/emem'>emem</a> </div></p><p><div class="text-x-small"> <a rel="license" href="https://creativecommons.org/publicdomain/zero/1.0/deed.eo"><img alt="CC0 1.0 Universala (CC0 1.0) Publikaĵiga Dediĉo" class="cc" src="/bil/cc0-88x31.png" /></a><br> Ĉi tiu verko estas <a rel="license" href="https://creativecommons.org/publicdomain/zero/1.0/deed.eo">publika havaĵo.</a><br> </div></p><p></div></p></div><script src="/static/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create', 'UA-93746003-1', 'auto');ga('send', 'pageview');</script></body></html>