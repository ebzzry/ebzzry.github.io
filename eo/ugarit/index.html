<!DOCTYPE html>
<html lang="eo"><head><title>Krei Sekurkopiojn per Ugarit</title><meta charset="utf-8" /><meta content="width=device-width,initial-scale=1.0,user-scalable=yes" name="viewport" /><meta content="noodp,noydir" name="robots" /><link rel='apple-touch-icon' sizes='180x180' href='/images/ico/apple-touch-icon.png'><link rel='icon' type='image/png' sizes='32x32' href='/images/ico/favicon-32x32.png'><link rel='icon' type='image/png' sizes='16x16' href='/images/ico/favicon-16x16.png'><link rel='manifest' href='/images/ico/site.webmanifest'><link rel='mask-icon' href='/images/ico/safari-pinned-tab.svg' color='#5bbad5'><link rel='shortcut icon' href='/images/ico/favicon.ico'> <meta name='msapplication-TileColor' content='#da532c'> <meta name='msapplication-config' content='/images/ico/browserconfig.xml'> <meta name='theme-color' content='#ffffff'><meta content="Krei Sekurkopiojn per Ugarit" name="description" /><meta content="ugarit, sekurkopioj, arÄ¥ivoj, arhxivoj, diskoj, reto, skimo" name="keywords" /><meta content="Krei Sekurkopiojn per Ugarit" property="og:title" /><meta content="article" property="og:type" /><meta content="https://ebzzry.com/eo/ugarit/" property="og:url" /><meta content="https://ebzzry.com/images/site/omar-flores-lQTbOWtysE-unsplash-1008x250.jpg" property="og:image" /><style media="all" type="text/css">html {    color: #333;    font-size: 1em;    font-family: Georgia, Cambria, Palatino, "Palatino Linotype", "Times New Roman", Times, serif;    line-height: 1.45;    text-align: left:    width: 100%;    max-width: 40em;    margin: 0 auto 0 auto;    padding: 0;}body {    border-top: hidden;    border-bottom: hidden;    padding: 0 1.5em 1em 1.5em;    margin: 0;}#content {    -webkit-column-count: 1;    -moz-column-count: 1;    column-count: 1;}code {    font-size: 0.9em;    font-family: "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Lucida Console", "Courier New", Courier, monospace;    color: black;    display: inline-block;}pre code {    font-size: 1em;    font-family: monospace;    line-height: 1.3em;    overflow: auto;    font-weight: normal;}kbd {    font-size: 1.1em;    padding: 0.1em 0.6em;    border: 1px solid #ccc;    font-family: monospace;    background-color: #f7f7f7;    color: #333;    -moz-box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    -webkit-box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    -moz-border-radius: 3px;    -webkit-border-radius: 3px;    border-radius: 3px;    display: inline-block;    margin: 0 0.1em;    text-shadow: 0 1px 0 #fff;    white-space: nowrap;}h1, h2, h3, h4, h5, h6 {    font-family: Calibri, "Gill Sans", "Gill Sans MT", "Myriad Pro", Myriad, "DejaVu Sans", Tahoma, Geneva, Helvetica, Arial, sans-serif;    margin-bottom: 0;}h1 {    font-size: 2.5em;    text-align: center;    border-bottom: 6px solid black;}h2 {    font-size: 2.0em;    text-align: left;    border-bottom: 2px solid black;}h3 {    font-size: 1.6em;    text-align: left;    border-bottom: 1px solid lightgrey;}h4 {    font-size: 1.5em;    text-align: left;}h5 {    font-size: 1.3em;    text-align: left;}ul, ol {    padding-left: 2em;}ul li {    list-style-type: square;}ul li li {    list-style-type: disc;}ul li li li {    list-style-type: circle;}ol li {    list-style-type: decimal;}p, para, b, strong, i, em, emph {    font-size: 1em;}blockquote {    font-size: 1.2em;    font-style: italic;    margin-left: 2em;}b, strong {    font-weight: bold;}i, em, emph {    font-style: italic;}table {    margin: 0.5em;    border-spacing: 0;    border-collapse: collapse;}th, td {    border: 1px solid lightgray;    padding-top: 0;    padding-bottom: 0;    padding-left: 0.45em;    padding-right: 0.45em;}.text-right {    text-align: right;}.text-small {    font-size: small;}.text-x-small {    font-size: x-small;}.banner {    display: block;    width: 100%;    margin-left: auto;    margin-right: auto;}.footer {    text-align: right;    float: right;    max-width: 18em;}.cc {    border-width: 0}.center {    text-align: center;}</style><style media="all" type="text/css">/* Ewan Themes -- based 99.99% from Tomorrow Night Theme *//* http://jmblog.github.com/color-themes-for-google-code-highlightjs *//* Original theme - https://github.com/chriskempson/tomorrow-theme *//* http://jmblog.github.com/color-themes-for-google-code-highlightjs *//* Tomorrow Comment */.hljs-comment {  color: #969896;}/* Tomorrow Red */.hljs-variable,.hljs-attribute,.hljs-tag,.hljs-regexp,.ruby .hljs-constant,.xml .hljs-tag .hljs-title,.xml .hljs-pi,.xml .hljs-doctype,.html .hljs-doctype,.css .hljs-id,.css .hljs-class,.css .hljs-pseudo {  color: #cc6666;}/* Tomorrow Orange */.hljs-number,.hljs-preprocessor,.hljs-pragma,.hljs-built_in,.hljs-literal,.hljs-params,.hljs-constant {  color: #de935f;}/* Tomorrow Yellow */.ruby .hljs-class .hljs-title,.css .hljs-rule .hljs-attribute {  color: #f0c674;}/* Tomorrow Green */.hljs-string,.hljs-value,.hljs-inheritance,.hljs-header,.hljs-name,.ruby .hljs-symbol,.xml .hljs-cdata {  color: #b5bd68;}/* Tomorrow Aqua */.hljs-title,.css .hljs-hexcolor {  color: #8abeb7;}/* Tomorrow Blue */.hljs-function,.python .hljs-decorator,.python .hljs-title,.ruby .hljs-function .hljs-title,.ruby .hljs-title .hljs-keyword,.perl .hljs-sub,.javascript .hljs-title,.coffeescript .hljs-title {  color: #81a2be;}/* Tomorrow Purple */.hljs-keyword,.javascript .hljs-function {  color: #b294bb;}.hljs {  display: block;  overflow-x: auto;  background: #1d1f21;  color: #c5c8c6;  padding: 0.5em;  -webkit-text-size-adjust: none;}.coffeescript .javascript,.javascript .xml,.tex .hljs-formula,.xml .javascript,.xml .vbscript,.xml .css,.xml .hljs-cdata {  opacity: 0.5;}pre code {    font-size: 1.1em;    font-family: monospace;    line-height: 1.3em;    overflow: auto;}</style></head><body><div id="content"><h1>Krei Sekurkopiojn per Ugarit</h1><p><div class="center"><a href='/en/ugarit/'>English</a> âŠ» Esperanto</div> <div class="center">2022-02-02 22:22:42 +0800</div></p><blockquote><p>Bona juÄo devenas el sperto, kaj sperto devenas el malbona juÄo.<br> â€”Fred BROOKS </p></blockquote><p><img src="/images/site/omar-flores-lQTbOWtysE-unsplash-1008x250.jpg" style="display: block; width: 100%; margin-left: auto; margin-right: auto;" alt="omar-flores-lQTbOWtysE-unsplash" title="omar-flores-lQTbOWtysE-unsplash"/></p><h2><a name="et">Enhavotabelo</a></h2><ul><li><a href='#enkonduko'>Enkonduko</a></li><li><a href='#instalo'>Instalo</a><ul><li><a href='#apt'>Per APT</a></li><li><a href='#nixpkgs'>Per Nixpkgs</a></li></ul></li><li><a href='#agordo'>Agordo</a></li><li><a href='#baza'>Baza uzado</a><ul><li><a href='#krei'>Krei dosierkopiojn</a></li><li><a href='#esplori'>Esplori dosierkopiojn</a></li><li><a href='#eltiri'>Rekte eltiri dosierkopiojn</a></li></ul></li><li><a href='#konsiletoj'>Konsiletoj</a><ul><li><a href='#defora'>Defora dosiersistemo</a></li><li><a href='#miksajxo'>MiksaÄµo</a></li></ul></li><li><a href='#finrimarkoj'>Finrimarkoj</a></li></ul><h2><a name="enkonduko">Enkonduko</a></h2><p>Kiom da fojoj oni spertis komprenon post kiam katastrofo okazis? Kiom da fojoj oni diris al si mem, ke se oni kreis sekurkopiojn de siaj altvaloraj datumoj, oni ne devus esti en tiu terura situacio, eltirante sian hararon kiel rabia maniulo?</p><p>Plejmulto da ni jam spertis Äinâ€”ni perdis niajn altvalorajn dosierojn pro malatentecaj kaÅ­zoj. Ni perdis ilin pro diskkraÅo, datuma putro, sekureca rompo, kaj aliaj kialoj. Tamen se oni kreis retropaÅan agonâ€”granda, sekura ÅaÅ­mo kie ni surteriÄasâ€”ne estus multe da Äeno kaj korpremo. Aliflanke, krei kaj administri sekurkopiojn povas esti senkuraÄigaj kaj egale danÄeraj.</p><p>En Ä‰i tiu afiÅo, mi parolos pri <a href='https://www.kitten-technologies.co.uk/project/ugarit/doc/trunk/README.wiki'>Ugarit</a>, agrabla peco de teÄ¥nologio, kiu kunmiksas facilecon de uzado kaj sekurecon, en unu ilo.</p><p>Ugarit estas klasika ekzemplo de ilo, kiu postulas minimuman agordon kaj agordaÄµon. Ke, kiam la komenca alÄustigado estas farita, Ä‰io kion oni bezonas fari estas reuzi la ilon. Tamen, tio ne ankoraÅ­ estas la Ä‰efforto de Ugaritâ€”estas la preskaÅ­ malsankta edziÄo de oportuneco kaj sekureco.</p><p>Pleje, se ne Ä‰iam, oportuneco estas inverse proporcia al sekureco. Tio signifas, ke ju pli io oportunecas, de malpli sekura Äi estas. Per Ugarit, krei kaj administri sekurkopiojn estas tiel facile kiel maÅinskribi mallongan komandon.</p><h2><a name="instalo">Instalo</a></h2><h3><a name="apt">Per APT:</a></h3><p>Unue, oni devas instali <a href='https://www.call-cc.org/'>Chicken</a>. Plej verÅajne, Äi povas esti instalita per la pako-administrilo:</p><pre><code>$ sudo apt-get install chicken-bin</code></pre><p>Se Äi ne haveblas Ä‰e la sistemo, oni povas elÅuti gin el <a href='https://code.call-cc.org/'>code.call-cc.org</a>.</p><p>Post kiam Chicken instaliÄis, ni instalu Ugarit mem kaj Äiajn dependecojn:</p><pre><code>$ chicken-install -s ugarit tiger-hash aes</code></pre><p>Post kiam Ä‰i tiu komando finiÄas, la komando <code>ugarit</code> fariÄos havebla. Por montri la uzadon:</p><pre><code>$ ugarit -h</code></pre><h3><a name="nixpkgs">Per Nixpkgs</a></h3><p>Se oni uzas Nixpkgs, simple rulu la jenan komandon:</p><pre><code>$ nix-env -i ugarit</code></pre><h2><a name="agordo">Agordo</a></h2><p>Ugarit Ä‰i-momente ne ankoraÅ­ utilasâ€”oni bezonas precizigi kien Äi devas enmemorigi la dosierkopiojn. Kreante dosierkopion de dosierujo kiu havas kelke da terajbato, estas ideale por enmemorigi la datumon Ä‰e rapida, fidebla, strestoleranta disko. Ne estas nekomune, ke la komando <code>ls</code> por sperti rimarkeblan malakcelon kiam Äi estas rulita ene datuma dosierujo. Ni supozu, ke <code>/dev/sdb1</code> estas granda dosiersistemo kaj oni volas surmeti Äin al <code>/ugarit/</code>.</p><pre><code>$ sudo mkdir /ugarit
$ sudo mount /dev/sdb1 /ugarit
$ sudo chown -R $USER /ugarit</code></pre><p>Alia egale grava bezono, kiun oni devas havi estas la agordosiero, kutime nomita <code>ugarit.conf</code>. Äœi estas disponigita kiel parto de la bezonataj komandliniaj argumentoj. Memoru, ke kie Ä‰i tiu dosiero ne loÄas en fiksita loko, kontraste kun iuj programoj kiuj serÄ‰as agorddosieron dum la startigo. AntaÅ­ oni fakte kreas tiun dosieron, oni devas ruli iujn komandojn. Konservu la eligojn de Ä‰i tiuj komandoj Ä‰ar oni bezonos ilin poste.</p><p>Krei salon por la haketfunkcio:</p><pre><code>$ dd if=/dev/random bs=1 count=64 2&gt;/dev/null \
| base64 -w 0 \
| tail -1</code></pre><p>Krei Ålosilon por la kripto:</p><pre><code>$ dd if=/dev/random bs=32 count=1 2&gt;/dev/null \
| od -An -tx1 \
| tr -d ' \t\n'</code></pre><p>Tiujn komandojn rulinte, oni kreos la agorddosieron <code>ugarit.conf</code>. Por fari Äin akorde kun la supra ekzamplo, oni konservos Äin ene <code>/ugarit</code>:</p><pre><code>$ emacs /ugarit/ugarit.conf</code></pre><p>Metu la jenajn, anstaÅ­igante SALO kaj ÅœLOSILO per la salaj kaj Ålosilaj Ä‰enoj, kiun oni generis antaÅ­e.</p><pre><code class="scheme">&#40;storage &quot;backend-fs splitlog /ugarit /ugarit/metadata&quot;&#41;
&#40;file-cache &quot;/ugarit/cache&quot;&#41;
&#40;hash tiger &quot;SALO&quot;&#41;
&#40;encryption aes &quot;ÅœLOSILO&quot;&#41;
&#40;compression deflate&#41;
</code></pre><p>Konservu la dosieron, tiam sekurigu Äin.</p><pre><code>$ chmod 600 /ugarit/ugarit.conf</code></pre><h2><a name="baza">Baza uzado</a></h2><h3><a name="krei"></a>Krei dosierkopiojn</h3><p>Por krei dosierkopiojn, rulu:</p><pre><code>$ ugarit snapshot /ugarit/ugarit.conf ETIKEDO DOSIERUJO</code></pre><p><i>ETIKEDO</i> estas nomo kiun oni bezonas por identigi la dosierkopion poste, kaj <i>DOSIERUJO</i> estas la dosiersistema arbo, kiun oni volas krei dosierkopion de. Ekzemple, por krei dosierkopion de la dosierujo <code>bildoj/</code>, kun la etikedo <code>bil</code>, rulu Ugarit jene:</p><pre><code>$ ugarit snapshot /ugarit/ugarit.conf bil bildoj</code></pre><p>Kreinte la dosierkopion, oni vidos ion kiel la jena:</p><pre><code>Archiving bildoj to tag bil...
Root hash: ddc888c86db6d7c468a27cc4af9b2907d219936df82e0971
Successfully snapshotted bildoj to tag bil
Snapshot hash: ab290399f31fff1e3158c0ede8f90f59b2b41387af48f597
Written 910460 bytes to the vault in 4 blocks, and reused 0 bytes in 0 blocks
&#40;before compression&#41;
File cache has saved us 1 file hashings / 638104 bytes &#40;before compression&#41;
</code></pre><h3><a name="esplori">Esplori dosierkopiojn</a></h3><p>Por interage administri la enhavojn de la kripto, rulu:</p><pre><code>$ ugarit explore /ugarit/ugarit.conf</code></pre><p>Por listigi la haveblajn komandojn:</p><pre><code>&gt; help</code></pre><p>Per la konsiletoj el la helpa uzado, oni eltiros dosierujon kiu estas parto de la dosierkopio antaÅ­e. Ni supozu, ke la originala vojo de tiu dosierujo estis <code>bildoj/festo/</code>. Do, por eltiri la dosierujon <code>festo/</code> el la aktuala dosierujo, rulu:</p><pre><code>&gt; cd bil
/images&gt; cd current
/images/site/current&gt; cd contents
/images/site/current/contents&gt; get festo
Extracted festo
/images/site/current/contents&gt; exit
</code></pre><h3><a name="eltiri">Rekte eltiri dosierkopiojn</a></h3><p>Tamen, se oni konas la ekzaktan dosierindikon de dosiero aÅ­ dosierujon kiun onivolas eltiri, oni anstataÅ­ povas ruli Ugarit kun la eltira reÄimo. Por eltiri la dosierujon <code>festo/</code> el supre, rekte, rulu:</p><pre><code>$ ugarit extract /ugarit/ugarit.conf /images/site/current/contents/festo</code></pre><h2><a name="konsiletoj">Konsiletoj</a></h2><h3><a name="defora">Defora dosiersistemo</a></h3><p>Ugarit ne estas limigita por krei dosierkopiojn de loka dosiersistemo. Äœi ankaÅ­ povas esti uzita por krei dosierkopiojn de arboj de defora gastiganto muntita loke. Se oni ekzemple havas <a href='https://github.com/libfuse/sshfs'>SSHFS</a>-surmeton, Ugarit ankoraÅ­ povas krei dosierkopion de tiu, same kiel ia alia loka dosiersistemo.</p><pre><code>$ sshfs remotehost:/ &#126;/mnt/sshfs/remotehost
$ cd &#126;/mnt/sshfs
$ ugarit snapshot /ugarit/ugarit.conf remotehost</code></pre><p>La sama estas aplikebla al <a href='https://www.samba.org/samba/smbfs/'>SMBFS</a>-surmetoj:</p><pre><code>$ sudo mount -t cifs -o user=$USER,uid=$USER //winhost/c \
&#126;/mnt/smbfs/winhost/c
$ cd &#126;/mnt/smbfs
$ ugarit snapshot /ugarit/ugarit.conf winhost</code></pre><h3><a name="miksajxo">MiksaÄµo</a></h3><p>Por malÅalti eligon kreante dosierkopiojn:</p><pre><code>$ ugarit snapshot /ugarit/ugarit.conf -q ...</code></pre><p>Por Åalti tre babileman eligon:</p><pre><code>$ ugarit snapshot -:a256 /ugarit/ugarit.conf ...</code></pre><h2><a name="finrimarkoj">Finrimarkoj</a></h2><p>Kiam oni ne fidas je la funkciado de la disko kie oni enmemorigas la dosierkopiojn, malÅalti la locate- kaj updatedb-servojn. Kutime Äi estas rulita per cron. BedaÅ­rinde, Äi metas multe da Åargo al la disko kaj eble trostresi Äin. La sperto povas varii.</p><p>Por malÅalti tiujn servojn Ä‰e NixOS, aldonu la jenan al <code>/etc/nixos/configuration.nix</code>:</p><pre><code class="nix">services.locate.enable = false;
</code></pre><p>Grava menciinda averto estas ke pro la maniero kiel Ugarit funkcias: ne ekzistas forviÅado de dosierkopioj. La enmemoriga meÄ¥anismo funkcias laÅ­e kiel Gito, sed ne ekzistas <code>rebase</code>-opcioj.</p><p>Ugarit estas kreita de <a href='http://www.snell-pym.org.uk/alaric/'>Alaric SNELL-PYM</a>. Se oni volas lerni pli da informo de la projekto, iru <a href='https://www.kitten-technologies.co.uk/project/ugarit/doc/trunk/README.wiki'>Ä‰iÂ tien</a>. Por raporti cimojn, iru <a href='https://www.kitten-technologies.co.uk/project/ugarit/reportlist'>Ä‰i tien</a>.</p><hr/><div class="footer"><p><div class="text-small"> <a href='/eo/'>Hejmo</a> âŠ» <a href='/eo/pri/'>Pri</a> âŠ» <a href='/eo/citajxoj/'>CitaÄµoj</a> âŠ» <a href='/eo/pripensoj/'>Pripensoj</a> </div></p><p><div class="text-x-small"> Kreita en ğŸ‡µğŸ‡­ per â¤ï¸ de Rommel MartÃ­nez </div></p><p></div></p></div><script src="/static/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></body></html>