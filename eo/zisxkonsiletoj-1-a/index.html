<!DOCTYPE html>
<html lang="eo"><head><title>Ziŝaj Konsiletoj 1-a: Alinomoj kaj Funkcioj</title><meta charset="utf-8" /><meta content="width=device-width,initial-scale=1.0,user-scalable=yes" name="viewport" /><meta content="noodp,noydir" name="robots" /><link rel='apple-touch-icon' sizes='180x180' href='/images/ico/apple-touch-icon.png'><link rel='icon' type='image/png' sizes='32x32' href='/images/ico/favicon-32x32.png'><link rel='icon' type='image/png' sizes='16x16' href='/images/ico/favicon-16x16.png'><link rel='manifest' href='/images/ico/site.webmanifest'><link rel='mask-icon' href='/images/ico/safari-pinned-tab.svg' color='#5bbad5'><link rel='shortcut icon' href='/images/ico/favicon.ico'> <meta name='msapplication-TileColor' content='#da532c'> <meta name='msapplication-config' content='/images/ico/browserconfig.xml'> <meta name='theme-color' content='#ffffff'><meta content="Ziŝaj Konsiletoj 1-a: Alinomoj kaj Funkcioj" name="description" /><meta content="ziŝo, zisxo, zsh, konsiletoj, avizoj, ŝelo, sxelo, linukso, agordo, agordaĵo, agordaĵxo" name="keywords" /><meta content="Ziŝaj Konsiletoj 1-a: Alinomoj kaj Funkcioj" property="og:title" /><meta content="article" property="og:type" /><meta content="https://ebzzry.com/eo/zisxkonsiletoj-1-a/" property="og:url" /><meta content="https://ebzzry.com/images/ico/android-chrome-512x512.png" property="og:image" /><style media="all" type="text/css">html {    color: #333;    font-size: 1em;    font-family: Georgia, Cambria, Palatino, "Palatino Linotype", "Times New Roman", Times, serif;    line-height: 1.45;    text-align: left:    width: 100%;    max-width: 40em;    margin: 0 auto 0 auto;    padding: 0;}body {    border-top: hidden;    border-bottom: hidden;    padding: 0 1.5em 1em 1.5em;    margin: 0;}#content {    -webkit-column-count: 1;    -moz-column-count: 1;    column-count: 1;}code {    font-size: 0.9em;    font-family: "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Lucida Console", "Courier New", Courier, monospace;    color: black;    display: inline-block;    font-weight: bold;}pre code {    font-size: 1em;    font-family: monospace;    line-height: 1.3em;    overflow: auto;    font-weight: normal;}kbd {    font-size: 1.1em;    padding: 0.1em 0.6em;    border: 1px solid #ccc;    font-family: monospace;    background-color: #f7f7f7;    color: #333;    -moz-box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    -webkit-box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    -moz-border-radius: 3px;    -webkit-border-radius: 3px;    border-radius: 3px;    display: inline-block;    margin: 0 0.1em;    text-shadow: 0 1px 0 #fff;    white-space: nowrap;}h1, h2, h3, h4, h5, h6 {    font-family: Calibri, "Gill Sans", "Gill Sans MT", "Myriad Pro", Myriad, "DejaVu Sans", Tahoma, Geneva, Helvetica, Arial, sans-serif;    margin-bottom: 0;}h1 {    font-size: 2.5em;    text-align: center;    border-bottom: 6px solid black;}h2 {    font-size: 2.0em;    text-align: left;    border-bottom: 2px solid black;}h3 {    font-size: 1.6em;    text-align: left;    border-bottom: 1px solid lightgrey;}h4 {    font-size: 1.5em;    text-align: left;}h5 {    font-size: 1.3em;    text-align: left;}ul, ol {    padding-left: 2em;}ul li {    list-style-type: square;}ul li li {    list-style-type: disc;}ul li li li {    list-style-type: circle;}ol li {    list-style-type: decimal;}p, para, b, strong, i, em, emph {    font-size: 1em;}blockquote {    font-size: 1.2em;    font-style: italic;    margin-left: 2em;}b, strong {    font-weight: bold;}i, em, emph {    font-style: italic;}table {    margin: 0.5em;    border-spacing: 0;    border-collapse: collapse;}th, td {    border: 1px solid lightgray;    padding-top: 0;    padding-bottom: 0;    padding-left: 0.45em;    padding-right: 0.45em;}.text-right {    text-align: right;}.text-small {    font-size: small;}.text-x-small {    font-size: x-small;}.banner {    display: block;    width: 100%;    margin-left: auto;    margin-right: auto;}.footer {    text-align: right;    float: right;    max-width: 18em;}.cc {    border-width: 0}.center {    text-align: center;}</style><style media="all" type="text/css">/* Ewan Themes -- based 99.99% from Tomorrow Night Theme *//* http://jmblog.github.com/color-themes-for-google-code-highlightjs *//* Original theme - https://github.com/chriskempson/tomorrow-theme *//* http://jmblog.github.com/color-themes-for-google-code-highlightjs *//* Tomorrow Comment */.hljs-comment {  color: #969896;}/* Tomorrow Red */.hljs-variable,.hljs-attribute,.hljs-tag,.hljs-regexp,.ruby .hljs-constant,.xml .hljs-tag .hljs-title,.xml .hljs-pi,.xml .hljs-doctype,.html .hljs-doctype,.css .hljs-id,.css .hljs-class,.css .hljs-pseudo {  color: #cc6666;}/* Tomorrow Orange */.hljs-number,.hljs-preprocessor,.hljs-pragma,.hljs-built_in,.hljs-literal,.hljs-params,.hljs-constant {  color: #de935f;}/* Tomorrow Yellow */.ruby .hljs-class .hljs-title,.css .hljs-rule .hljs-attribute {  color: #f0c674;}/* Tomorrow Green */.hljs-string,.hljs-value,.hljs-inheritance,.hljs-header,.hljs-name,.ruby .hljs-symbol,.xml .hljs-cdata {  color: #b5bd68;}/* Tomorrow Aqua */.hljs-title,.css .hljs-hexcolor {  color: #8abeb7;}/* Tomorrow Blue */.hljs-function,.python .hljs-decorator,.python .hljs-title,.ruby .hljs-function .hljs-title,.ruby .hljs-title .hljs-keyword,.perl .hljs-sub,.javascript .hljs-title,.coffeescript .hljs-title {  color: #81a2be;}/* Tomorrow Purple */.hljs-keyword,.javascript .hljs-function {  color: #b294bb;}.hljs {  display: block;  overflow-x: auto;  background: #1d1f21;  color: #c5c8c6;  padding: 0.5em;  -webkit-text-size-adjust: none;}.coffeescript .javascript,.javascript .xml,.tex .hljs-formula,.xml .javascript,.xml .vbscript,.xml .css,.xml .hljs-cdata {  opacity: 0.5;}pre code {    font-size: 1.1em;    font-family: monospace;    line-height: 1.3em;    overflow: auto;}</style></head><body><div id="content"><h1>Ziŝaj Konsiletoj 1-a: Alinomoj kaj Funkcioj</h1><p><div class="center">Esperanto ▪ <a href='/en/zsh-tips-1/'>English</a></div> <div class="center">Laste ĝisdatigita: la 23-an de Februaro 2022</div></p><blockquote><p>Malsaĝulo miras pri nekutimaj aferoj. Ŝagulo miras pri la kutimaj aferoj.<br> ―Konfuceo </p></blockquote><p>Unu el la ĝuoj de ekskluzive labori ĉe la terminalsimulilo estas la laboron pri komandoj, dosieroj, kaj dosieroj ĝi plifaciligas. Esti kapable por iri de ideo al ideo okazas en malmulte da tempo. Por interaga ŝela uzo, <a href='http://zsh.sourceforge.net/'>ziŝon</a> mi uzas preskaŭ eksklusive. En ĉi tiu artikolo mi parolos pri la aĵoj por la interagan uzon de la ŝelo plibonigi.</p><h2><a name="et"></a>Enhavotabelo</h2><ul><li><a href='#superrigardo'>Superrigardo</a></li><li><a href='#alinomoj'>Alinomoj</a></li><li><a href='#funkcioj'>Funkcioj</a></li><li><a href='#cxio'>Ĉion rikolti</a></li><li><a href='#finrimarkoj'>Finrimarkoj</a></li></ul><h2><a name="superrigardo"></a>Superrigardo</h2><p>Estas almenaŭ tri tipoj de komandoj en Ziŝo: duumdosieroj, alinomoj, kaj funkcioj. Duumdosieroj, estas tiuj kiuj troveblas en la <code>$PATH</code>; ili estas la programoj, kiujn oni instalis per la pakadministrilo. Alinomoj kaj funkcioj, aliflanke, ne loĝas kiel dosieroj ĉe la dosiersistemo. Ili estas difinitaj kiel parto de la agorddosiero, aŭ entekstitaj en la seanco.</p><h2><a name="alinomoj"></a>Alinomoj</h2><p>Alinomoj estas tiuj beletaj malsaĝaj aĵoj kiujn oni metas en la agorddosieroj kiuj bagatelajn unu liniajn komandojn faras. Multaj el ili aspektas jene:</p><pre><code>alias ls=&quot;ls -F&quot;</code></pre><p>Aliaj estas pli agresivaj kiel tutmondaj alinomoj, kiuj malvolvojn povas fari ie ĉe la komandlinio:</p><pre><code>alias -g G=&quot;|&amp; rg --color auto&quot;
alias -g NF='&#42;&#40;.om&#91;1&#93;&#41;'</code></pre><p>La ĉefenigujon kaj ĉefeligujon la unua tutmonda alinomo filtras al <em>egrep</em> kun kolorita eligo. La plej novan kutiman dosieron en la aktuala dosierujo la dua tutmonda alinomo revenas.</p><p>Por ĉiomajn alinomojn montri, plenumu:</p><pre><code>alias</code></pre><h2><a name="funkcioj"></a>Funkcioj</h2><p>Funkcioj, aliflanke, estas la pli grandaj parencoj de alinomoj. Ili povas fari pli multe ol siaj malpliaj kolegoj povas fari. Unu el la plej gravaj kontrastoj por teni en la kalkulo, estas, funckiojn povas fari pli ol anstataŭigon. Ekzemple, en la jena alinomo:</p><pre><code>alias ve=&quot;echo hundo&quot;</code></pre><p>tekstan anstataŭigon nur faras. Tio estas, kiam la tekston <code>hundo</code> ziŝo trafas kiel la unua ero de la komandlinio, ĝin ĝi anstataŭigas per <code>echo hundo</code>. Nenio plu. Do, plenumante jene:</p><pre><code>ve</code></pre><p>fariĝas</p><pre><code>echo hundo</code></pre><p>La jenajn liniojn kontrastu:</p><pre><code>alias hundo0=&quot;for x in hundo kato muso; do echo $x; done&quot;
function hundo1 &#40;&#41; { for x in hundo kato muso; do echo $x; done }</code></pre><p>La ŝlosilvorto <code>function</code> estas redunda kaj povas esti ellasita. Ilin plenumu kaj la resultojn rimarku:</p><pre><code>% hundo0
% hundo1</code></pre><p>Pli altan prioritaton alinomoj havas pli ol funkcioj. La jenajn liniojn konsideru:</p><pre><code>alias hundo=&quot;echo hundo&quot;
function hundo &#40;&#41; { echo hundo, ankaux }</code></pre><p>La nomon <code>hundo</code> ambaŭ uzas, sed malsaman nomspacon ĉiu uzas. Kiam je <code>hundo</code> oni plenumas:</p><pre><code>% hundo
hundo</code></pre><p>Nur je <code>hundo</code> ĝi montras, anstataŭ je <code>hundo, too</code> eĉ ĉi tiu venas de pli nova difino. Por la alinomon <code>hundo</code> forigi, plenumu:</p><pre><code>% unalias hundo
% hundo
hundo, too</code></pre><p>Tiel longe kiel eble, funkciojn plenumu:</p><p>Por ĉiomajn funkciojn montri, plenumu:</p><pre><code>% functions</code></pre><h2><a name="cxio"></a>Ĉion rikolti</h2><p>La agorddosieron malpurigi per plenaj funciaj difinioj por ĉiu malgranda komando, kiun oni volas havi estas malŝaga. Anstataŭe, pli bonan manieron por tutmondajn alinomojn kaj malgrandajn funkciojn ni uzos. La dosieron <code>&#126;/.zshenv</code> malfermu per la plej ŝatata redaktilo.</p><p>La funkciojn, kiu la aliajn difinas, ni unue difinu:</p><pre><code class="bash">function def&#95;real&#95;alias &#40;&#41; {
  while &#91;&#91; $# -ge 2 &#93;&#93;; do
    alias &quot;$1=$2&quot;
    shift 2
  done
}

function def&#95;real&#95;aliases &#40;&#41; {
  def&#95;real&#95;alias $real&#95;aliases
  unset real&#95;aliases
}

function def&#95;global&#95;alias &#40;&#41; {
  while &#91;&#91; $# -ge 2 &#93;&#93;; do
    alias -g &quot;$1=$2&quot;
    shift 2
  done
}

function def&#95;global&#95;aliases &#40;&#41; {
  def&#95;global&#95;alias $global&#95;aliases
  unset global&#95;aliases
}

function def&#95;fun &#40;&#41; {
  while &#91;&#91; $# -ge 2 &#93;&#93;; do
    eval &quot;function $1 &#40;&#41; { $2 \$@ }&quot;
    shift 2
  done
}

function def&#95;funs &#40;&#41; {
  def&#95;fun $funs
  unset funs
}
</code></pre><p>Sekve, la tabelojn ni difinu:</p><pre><code class="bash">real&#95;aliases=&#40;
  ve &quot;echo hundo&quot;
&#41;; def&#95;real&#95;aliases

global&#95;aliases=&#40;
  :: ':&gt;!'

  B '`git rev-parse --abbrev-ref HEAD`'

  V &quot;|&amp; less&quot;
  G &quot;|&amp; rg --color auto&quot;
  S &quot;|&amp; sort&quot;
  R &quot;|&amp; sort -rn&quot;
  L &quot;|&amp; wc -l | sed 's/&#94;\ &#42;//'&quot;

  H  &quot;|&amp; head&quot;
  T  &quot;|&amp; tail&quot;
  H1 &quot;H -n 1&quot;
  T1 &quot;T -n 1&quot;

  ZF '&#42;&#40;.L0&#41;'     # zero-length regular files
  ZD '&#42;&#40;/L0&#41;'     # zero-length directories

  AE '{,.}&#42;'      # all files, including dot files
  AF '&#42;&#42;/&#42;&#40;.&#41;'    # all regular files
  AD '&#42;&#42;/&#42;&#40;/&#41;'    # all directories
  AS '&#42;&#42;/&#42;&#40;@&#41;'    # all symlinks

  OF '&#42;&#40;.om&#91;-1&#93;&#41;' # oldest regular file
  OD '&#42;&#40;/om&#91;-1&#93;&#41;' # oldest directory
  OS '&#42;&#40;@om&#91;-1&#93;&#41;' # oldest symlink

  NF '&#42;&#40;.om&#91;1&#93;&#41;'  # newest regular file
  ND '&#42;&#40;/om&#91;1&#93;&#41;'  # newest directory
  NS '&#42;&#40;@om&#91;1&#93;&#41;'  # newest symlink

&#41;; def&#95;global&#95;aliases

funs=&#40;
  z &quot;exec zsh&quot;
  s &quot;sudo&quot;

  d &quot;pushd&quot;
  \- &quot;popd&quot;
  ds &quot;dirs -l&quot;

  cp &quot;command cp -i&quot;
  mv &quot;command mv -i&quot;

  l &quot;ls -GFAtr --color&quot;
  la &quot;ls -AF --color&quot;
  ll &quot;l -l
  l1 &quot;l -1&quot;
  lh &quot;l -H&quot;
  lr &quot;l -R&quot;
  lk &quot;la -l&quot;

  sl &quot;ln -sf&quot;
  md &quot;mkdir -p&quot;

  f &quot;fd&quot;
  g &quot;ripgrep --color auto&quot;
  gi &quot;g -i&quot;
  tf &quot;tail -F&quot;
  rh &quot;rehash&quot;

  mount &quot;s mount&quot;
  umount &quot;s umount&quot;
  reboot &quot;s reboot&quot;
  poweroff &quot;s poweroff&quot;
  halt &quot;s halt -p&quot;
&#41;; def&#95;funs
</code></pre><h2><a name="finrimarkoj"></a>Finrimarkoj</h2><p>Komandojn grupigi tiel la procedon por novajn erojn aldoni kaj forigi plifaciligas. Ĉion porti en unu kunfandita loko la agorddosieron igas aserteble pura. Por la restantajn difinojn iru <a href='https://github.com/ebzzry/dotfiles/tree/master/zsh'>ĉi tien</a>.</p><p>Se giton vi uzas, la artikolo pri kiel ĝi mi uzas, eble ankaŭ plaĉas al vi. Ĝi troviĝas <a href='/eo/gito/'>ĉi tie</a>.</p><p><i>Dank’ al <a href='https://github.com/nohwnd'>Jakub JAREš</a> pro la korektoj.</i></p><hr/><div class="footer"><p><div class="text-small"> <a href='/eo/'>Hejmo</a> ▪ <a href='/eo/pri/'>Pri</a> ▪ <a href='/eo/citajxoj/'>Citaĵoj</a> ▪ <a href='/eo/pripensoj/'>Pripensoj</a> ▪ <a href='https://github.com/ebzzry/ebzzry.github.io'>Fonto</a> </div> <div class="text-x-small"> Kreite per <a href='https://github.com/ebzzry/emem'>emem</a> kaj <a href='https://github.com/ebzzry/skeleton'>skeleton</a> </div></p><p><div class="text-x-small"> <a rel="license" href="https://creativecommons.org/publicdomain/zero/1.0/deed.eo"><img alt="CC0 1.0 Universala (CC0 1.0) Publikaĵiga Dediĉo" class="cc" src="/bil/cc0-88x31.png" /></a><br> Ĉi tiu verko estas <a rel="license" href="https://creativecommons.org/publicdomain/zero/1.0/deed.eo">publika havaĵo.</a><br> </div></p><p></div></p></div><script src="/static/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></body></html>