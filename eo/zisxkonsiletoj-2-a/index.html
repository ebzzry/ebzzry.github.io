<!DOCTYPE html>
<html lang="eo"><head><title>Ziŝaj Konsiletoj 2-a: Dosierujstakoj</title><meta charset="utf-8" /><meta content="width=device-width,initial-scale=1.0,user-scalable=yes" name="viewport" /><meta content="noodp,noydir" name="robots" /><link rel='apple-touch-icon' sizes='180x180' href='/images/ico/apple-touch-icon.png'><link rel='icon' type='image/png' sizes='32x32' href='/images/ico/favicon-32x32.png'><link rel='icon' type='image/png' sizes='16x16' href='/images/ico/favicon-16x16.png'><link rel='manifest' href='/images/ico/site.webmanifest'><link rel='mask-icon' href='/images/ico/safari-pinned-tab.svg' color='#5bbad5'><link rel='shortcut icon' href='/images/ico/favicon.ico'> <meta name='msapplication-TileColor' content='#da532c'> <meta name='msapplication-config' content='/images/ico/browserconfig.xml'> <meta name='theme-color' content='#ffffff'><meta content="Ziŝaj Konsiletoj 2-a: Dosierujstakoj" name="description" /><meta content="ziŝo, zisxo, zsh, konsiletoj, ŝelo, sxelo, linukso, agordo, agordaĵo, agordaĵxo" name="keywords" /><meta content="Ziŝaj Konsiletoj 2-a: Dosierujstakoj" property="og:title" /><meta content="article" property="og:type" /><meta content="https://ebzzry.com/eo/zisxkonsiletoj-2-a/" property="og:url" /><meta content="https://ebzzry.com/images/ico/android-chrome-512x512.png" property="og:image" /><style media="all" type="text/css">html {    color: #333;    font-size: 1em;    font-family: Georgia, Cambria, Palatino, "Palatino Linotype", "Times New Roman", Times, serif;    line-height: 1.45;    text-align: left:    width: 100%;    max-width: 40em;    margin: 0 auto 0 auto;    padding: 0;}body {    border-top: hidden;    border-bottom: hidden;    padding: 0 1.5em 1em 1.5em;    margin: 0;}#content {    -webkit-column-count: 1;    -moz-column-count: 1;    column-count: 1;}code {    font-size: 0.9em;    font-family: "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Lucida Console", "Courier New", Courier, monospace;    color: black;    display: inline-block;    font-weight: bold;}pre code {    font-size: 1em;    font-family: monospace;    line-height: 1.3em;    overflow: auto;    font-weight: normal;}kbd {    font-size: 1.1em;    padding: 0.1em 0.6em;    border: 1px solid #ccc;    font-family: monospace;    background-color: #f7f7f7;    color: #333;    -moz-box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    -webkit-box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;    -moz-border-radius: 3px;    -webkit-border-radius: 3px;    border-radius: 3px;    display: inline-block;    margin: 0 0.1em;    text-shadow: 0 1px 0 #fff;    white-space: nowrap;}h1, h2, h3, h4, h5, h6 {    font-family: Calibri, "Gill Sans", "Gill Sans MT", "Myriad Pro", Myriad, "DejaVu Sans", Tahoma, Geneva, Helvetica, Arial, sans-serif;    margin-bottom: 0;}h1 {    font-size: 2.5em;    text-align: center;    border-bottom: 6px solid black;}h2 {    font-size: 2.0em;    text-align: left;    border-bottom: 2px solid black;}h3 {    font-size: 1.6em;    text-align: left;    border-bottom: 1px solid lightgrey;}h4 {    font-size: 1.5em;    text-align: left;}h5 {    font-size: 1.3em;    text-align: left;}ul, ol {    padding-left: 2em;}ul li {    list-style-type: square;}ul li li {    list-style-type: disc;}ul li li li {    list-style-type: circle;}ol li {    list-style-type: decimal;}p, para, b, strong, i, em, emph {    font-size: 1em;}blockquote {    font-size: 1.2em;    font-style: italic;    margin-left: 2em;}b, strong {    font-weight: bold;}i, em, emph {    font-style: italic;}table {    margin: 0.5em;    border-spacing: 0;    border-collapse: collapse;}th, td {    border: 1px solid lightgray;    padding-top: 0;    padding-bottom: 0;    padding-left: 0.45em;    padding-right: 0.45em;}.text-right {    text-align: right;}.text-small {    font-size: small;}.text-x-small {    font-size: x-small;}.banner {    display: block;    width: 100%;    margin-left: auto;    margin-right: auto;}.footer {    text-align: right;    float: right;    max-width: 18em;}.cc {    border-width: 0}.center {    text-align: center;}</style><style media="all" type="text/css">html { max-width: 50em; } .footer { max-width: 24em }</style><style media="all" type="text/css">/* Ewan Themes -- based 99.99% from Tomorrow Night Theme *//* http://jmblog.github.com/color-themes-for-google-code-highlightjs *//* Original theme - https://github.com/chriskempson/tomorrow-theme *//* http://jmblog.github.com/color-themes-for-google-code-highlightjs *//* Tomorrow Comment */.hljs-comment {  color: #969896;}/* Tomorrow Red */.hljs-variable,.hljs-attribute,.hljs-tag,.hljs-regexp,.ruby .hljs-constant,.xml .hljs-tag .hljs-title,.xml .hljs-pi,.xml .hljs-doctype,.html .hljs-doctype,.css .hljs-id,.css .hljs-class,.css .hljs-pseudo {  color: #cc6666;}/* Tomorrow Orange */.hljs-number,.hljs-preprocessor,.hljs-pragma,.hljs-built_in,.hljs-literal,.hljs-params,.hljs-constant {  color: #de935f;}/* Tomorrow Yellow */.ruby .hljs-class .hljs-title,.css .hljs-rule .hljs-attribute {  color: #f0c674;}/* Tomorrow Green */.hljs-string,.hljs-value,.hljs-inheritance,.hljs-header,.hljs-name,.ruby .hljs-symbol,.xml .hljs-cdata {  color: #b5bd68;}/* Tomorrow Aqua */.hljs-title,.css .hljs-hexcolor {  color: #8abeb7;}/* Tomorrow Blue */.hljs-function,.python .hljs-decorator,.python .hljs-title,.ruby .hljs-function .hljs-title,.ruby .hljs-title .hljs-keyword,.perl .hljs-sub,.javascript .hljs-title,.coffeescript .hljs-title {  color: #81a2be;}/* Tomorrow Purple */.hljs-keyword,.javascript .hljs-function {  color: #b294bb;}.hljs {  display: block;  overflow-x: auto;  background: #1d1f21;  color: #c5c8c6;  padding: 0.5em;  -webkit-text-size-adjust: none;}.coffeescript .javascript,.javascript .xml,.tex .hljs-formula,.xml .javascript,.xml .vbscript,.xml .css,.xml .hljs-cdata {  opacity: 0.5;}pre code {    font-size: 1.1em;    font-family: monospace;    line-height: 1.3em;    overflow: auto;}</style></head><body><div id="content"><h1>Ziŝaj Konsiletoj 2-a: Dosierujstakoj</h1><p><div class="center">Esperanto • <a href='/en/zsh-tips-2/'>English</a></div> <div class="center">Laste ĝisdatigita: la 18-an de marto 2022</div></p><blockquote><p>Kion ni faras por ni, mortas kun ni. Kion ni faras por ili, porĉiame restas.<br> —Albert PIKE </p></blockquote><p><img src="/images/site/jonny-caspari-A7ol2HfnycY-unsplash-1008x250.webp" style="display: block; width: 100%; margin-left: auto; margin-right: auto;" alt="jonny-caspari-A7ol2HfnycY-unsplash" title="jonny-caspari-A7ol2HfnycY-unsplash"/></p><h2><a name="et">Enhavotebelo</a></h2><ul><li><a href='#enkonduko'>Enkonduko</a></li><li><a href='#konservi'>Konservi</a></li><li><a href='#restauxri'>Restaŭri</a></li><li><a href='#finrimarkoj'>Finrimarkoj</a></li></ul><h2><a name="enkonduko">Enkonduko</a></h2><p>Lastfoje mi skribis pri alinomoj kaj funkcioj, kial ilin uzi pol la komandlinian sperton plibonigi. En ĉi tiu artikolo, mi parolos pri simplaj manieroj kiel dosierujstakojn konservi.</p><p>Ĉiufoje la dosierujo ŝanĝiĝas per <code>cd</code>, la komandon <code>pushd</code> mi uzas por tiun dosierujon konservi sur la dosierujstako. Min ĉi tio ebligas por iri reen al la lasta dosierujo, antaŭ je <code>pushd</code> mi voku, per la uzo de <code>popd</code>. La aktualan valoron de la dosierujstako la komando <code>dirs</code> montras.</p><p>Unue la helpilojn ni difinu:</p><pre><code class="bash">function d &#40;&#41; { pushd $@ }
function - &#40;&#41; { popd }
function ds &#40;&#41; { dirs -l $@ }
</code></pre><p>La la jenan seancon ni konsideru:</p><pre><code>% d &#126;/Downloads
% ds -v
0       /home/ebzzry/Downloads
% d /etc/nixos
% d /tmp
% ds -v
0       /tmp
1       /etc/nixos
2       /home/ebzzry/Downloads</code></pre><p>En ĉi tiu punkto tri dosierujoj ekzistas en la dosierujstako. Se je <code>popd</code> mi kuros:</p><pre><code>% -</code></pre><p>La jenan mi akiros:</p><pre><code>% pwd
/etc/nixos
% ds -v
0       /etc/nixos
1       /home/ebzzry/Downloads</code></pre><h2><a name="konservi">Konservi</a></h2><p>Onin dosierujstakoj permesas por movi tra la arboj kiujn ni nune prilaboras. Puŝi al la dosierujstakoj onin permesas por dosierujon <em>viziti</em>, en kiu, agojn ni faros tie, tiam iri reen al la lasta per elstakigado facile.</p><p>Bedaŭrinde, se novan ŝelon mi kreas, la stakon mi perdas. Je <code>exec</code> mi uzas por la ziŝan seancon reŝargi, certigante, ke miaj agorddosieroj estas ŝargitaj freŝe.</p><pre><code>% exec zsh</code></pre><p>Tion farante, la stakon kiun mi konstruis mi perdas. Por tion solvi, funkcion kiu la dosierujstakon de la aktuala seanco konservas, mi havas.</p><pre><code class="bash">function z! &#40;&#41; {
  dirs -lv | awk -F '\t' '{print $2}' | tac &gt;! $HOME/.z
  exec zsh
}
</code></pre><p>Je <code>z!</code> kurante, la enhavon de la aktuala stako konservas, kaj la ŝelon reŝargas:</p><pre><code>% pwd
/home/ebzzry
% d /etc/nixos
% d &#126;/Downloads
% d /var/lib
% z!</code></pre><h2><a name="restauxri">Restaŭri</a></h2><p>Por iri kun <code>z!</code> funkcion kiu la konservitan dosierujstakon restaŭras mi havas:</p><pre><code class="bash">function z+ &#40;&#41; {
  if &#91;&#91; -f $HOME/.z &#93;&#93;; then
      local pwd=$PWD

      while read -r line; do
        pushd &quot;$line&quot;
      done &lt; $HOME/.z

      pushd $pwd
  fi
}
</code></pre><p>Por restaŭri la konservitan dosierujstakon en la aktuala seanco aŭ al nova aparta instanco, rulu:</p><pre><code>% z+
% ds -v
0       /var/lib
1       /home/ebzzry/Downloads
2       /etc/nixos
3       /home/ebzzry</code></pre><h2><a name="finrimarkoj">Finrimarkoj</a></h2><p>Dosierujstakojn mi uzas kiel maniero por la dosieroj kiujn mi interagas konservi por ke estos pli facile por ilin restaŭru al antaŭ funkcia stato. Ĉi tiujn du helpilojn havante, la laboron ĉe la komandlinio plifaciligas. Por la restantajn difinojn iru <a href='https://github.com/ebzzry/dotfiles/tree/main/zsh'>ĉi tien</a>.</p><hr/><div class="footer"><p><div class="text-small"> <a href='/eo/'>Hejmo</a> • <a href='/eo/pri/'>Pri</a> • <a href='/eo/citajxoj/'>Citaĵoj</a> • <a href='/eo/pripensoj/'>Pripensoj</a> • <a href='https://github.com/ebzzry/ebzzry.github.io'>Fonto</a> • <a href='https://creativecommons.org/publicdomain/zero/1.0/deed.eo'>Permesilo</a> </div></p><p><div class="text-x-small"> Kreita per ❤️ de Rommel Martínez </div></p><p></div></p></div><script src="/static/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></body></html>