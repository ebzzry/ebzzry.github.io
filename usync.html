<!DOCTYPE html>
<html><head><title>An Introduction to Usync</title><meta charset="utf-8" /><meta content="width=device-width, initial-scale=1.0, user-scalable=yes" name="viewport" /><link href="static/ico/apple-touch-icon-57x57.png" rel="apple-touch-icon" sizes="57x57" /><link href="static/ico/apple-touch-icon-60x60.png" rel="apple-touch-icon" sizes="60x60" /><link href="static/ico/apple-touch-icon-72x72.png" rel="apple-touch-icon" sizes="72x72" /><link href="static/ico/apple-touch-icon-76x76.png" rel="apple-touch-icon" sizes="76x76" /><link href="static/ico/apple-touch-icon-114x114.png" rel="apple-touch-icon" sizes="114x114" /><link href="static/ico/apple-touch-icon-120x120.png" rel="apple-touch-icon" sizes="120x120" /><link href="static/ico/apple-touch-icon-144x144.png" rel="apple-touch-icon" sizes="144x144" /><link href="static/ico/apple-touch-icon-152x152.png" rel="apple-touch-icon" sizes="152x152" /><link href="static/ico/apple-touch-icon-180x180.png" rel="apple-touch-icon" sizes="180x180" /><link href="static/ico/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" /><link href="static/ico/favicon-194x194.png" rel="icon" sizes="194x194" type="image/png" /><link href="static/ico/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png" /><link href="static/ico/android-chrome-192x192.png" rel="icon" sizes="192x192" type="image/png" /><link href="static/ico/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" /><link href="static/ico/manifest.json" rel="manifest" /><link href="static/ico/favicon.ico" rel="shortcut icon" /><meta content="#da532c" name="msapplication-TileColor" /><meta content="static/ico/mstile-144x144.png" name="msapplication-TileImage" /><meta content="static/ico/browserconfig.xml" name="msapplication-config" /><meta content="#ffffff" name="theme-color" /><link href="static/ico/glider.ico" rel="icon" type="image/x-icon" /><link href="static/css/main.css" media="all" rel="stylesheet" /><link href="static/css/ewan.css" media="all" rel="stylesheet" /><script src="static/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="content"><h1>An Introduction to Usync</h1><p><center>May 21, 2013</center></p><p>Usync is a a site-to-site synchronization tool written in <a href='http://www.scsh.net'>Scsh</a>. It makes use of <a href='http://www.cis.upenn.edu/&#126;bcpierce/unison/'>Unison</a>, and <a href='http://rsync.samba.org/'>rsync</a>, for bi- and uni-directional synchronizations, respectively.</p><h2>Introduction</h2><p>Site-to-site synchronizations are usually needed, when two locations, which are called sites, in this article, make file updates independently. Let's say the company <i>Foo</i> has two offices. In the first office, they have the accounting, and logistics departments. In the second office, they have the IT, and HR departments. Both have a common <code>/pub</code> tree, that has subdirectories assigned to each department. Without synchronization, when the first office needs information from the second office, they'd have to pull the updates, manually. With synchronization, the first office can access the files from the second office, as if the IT and HR departments, were in the first office. Usync helps to achieve this.</p><h2>Basic Usage</h2><p>To perform two-way synchronization of the directory <code>/pub/yot/ninam</code>, between the current host, to the hosts <code>tarupam</code>, and <code>taubetmo</code>, while preserving the directory structure remotely (take note, that there must be no spaces between the hosts specification, due to the <code>IFS</code> environment variable, found in most shells):</p><pre><code class="bash">$ usync /pub/yot/ninam/ tarupam,taubetmo
</code></pre><p>The command above will perform two-way synchronization of the diretory <code>ninam/</code> found under <code>/pub/yot/</code>, to <code>tarupam:/pub/yot/</code>, and <code>taubetmo:/pub/yot/</code>.</p><p>Using your example above, the two-way synchronization system basically tells that if the tree <code>tarupam:/pub/yot/ninam/</code> contains new and/or updated items, compared with <code>localhost:/pub/yot/ninam/</code>, and <code>localhost:/pub/yot/ninam/</code> also happens to have new and/or updated items, then, they will trade updates.</p><p>Ideally, the result is that <code>localhost:/pub/yot/ninam/</code>, <code>tarupam:/pub/yot/ninam/</code>, and <code>taubetmo:/pub/yot/ninam/</code>, are all equal.</p><h2>Advanced Usage</h2><p>It is also possible to perform synchronization of multiple files, and directories, to remote hosts. To do so, run:</p><pre><code class="bash">$ usync /pub/yot/ninam/ &#126;/file.text &#126;reyn/&#42;.blend tarupam,taubetmo
</code></pre><p>The command above will perform two-way synchronization of the paths <code>/pub/yot/ninam/</code>, <code>&#126;/file.text</code>, and <code>&#126;reyn/&#42;.blend</code> to the remote hosts <code>tarupam</code>, and <code>taubetmo</code>, using the same directory structuring system described above.</p><p>If you want to perform one-way synchronization, of the above, like <i>rsync</i>, run:</p><pre><code class="bash">$ usync --one-way --prefer-local /pub/yot/ninam/ \
&#126;/file.text &#126;reyn/draft.blend tarupam,taubetmo
</code></pre><p>For more usage information, run:</p><pre><code class="bash">$ usync --help
</code></pre><h2>Caveats</h2><p>The sources, along with additional information, are located at <a href="https://github.com/ebzzry/usync">https://github.com/ebzzry/usync</a>.</p><p>This program has been used on FreeBSD, hence making the shebang line contain <code>/usr/local/bin/scsh</code>. Please adjust it, accordingly.</p><hr/><div style="text-align: right; float: right; max-width: 16em;"><p><div style="font-size: small"> <a href='index.html'>Home</a> 路 <a href='about.html'>About</a> 路 <a href='quotes.html'>Quotes</a> 路 <a href='words.html'>Words</a> 路 <a href='https://github.com/ebzzry/ebzzry.github.io'>Source</a> </div> <div style="font-size: x-small"> Site created with <a href='https://github.com/ebzzry/emem'>emem</a> </div></p><p><div style="font-size: x-small"> <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><br />This work by <a xmlns:cc="http://creativecommons.org/ns#" href="https://ebzzry.github.io" property="cc:attributionName" rel="cc:attributionURL">Rommel M. Martinez</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>. </div></p><p></div></p></div></body></html>